/* Minify took 0.74534702301025 */

(function($){$.toJSON=function(o){if(typeof(JSON)=="object"&&JSON.stringify){return JSON.stringify(o)}var type=typeof(o);if(o===null){return"null"}if(type=="undefined"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return $.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=$.quoteString(k)}else{continue}}if(typeof o[k]=="function"){continue}var val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};$.evalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);(function(f,b,g){var d=b.getElementsByTagName("head")[0],a=/loaded|complete/,e={},c=0,h;g.getCSS=function(k,j,m){if(g.isFunction(j)){m=j;j={}}var l=b.createElement("link");l.rel="stylesheet";l.type="text/css";l.media=j.media||"screen";l.href=k;if(j.charset){l.charset=j.charset}if(j.title){m=(function(n){return function(){l.title=j.title;n(l,"success")}})(m)}if(l.readyState){l.onreadystatechange=function(){if(a.test(l.readyState)){l.onreadystatechange=null;m(l,"success")}}}else{if(l.onload===null&&l.all){l.onload=function(){l.onload=null;m(l,"success")}}else{e[l.href]=function(){m(l,"success")};if(!c++){h=f.setInterval(function(){var t,p,s=b.styleSheets,n,o=s.length;while(o--){p=s[o];if((n=p.href)&&(t=e[n])){try{t.r=p.cssRules;throw"SECURITY"}catch(q){if(/SECURITY/.test(q)){t(l,"success");delete e[n];if(!--c){h=f.clearInterval(h)}}}}}},13)}}}d.appendChild(l)}})(this,this.document,this.jQuery);var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};jaaulde.utils.cookies=(function(){var d=[];var b={hoursToLive:null,path:"/",domain:null,secure:false};var g=function(h){var j;if(typeof h!=="object"||h===null){j=b}else{j={hoursToLive:(typeof h.hoursToLive==="number"&&h.hoursToLive!==0?h.hoursToLive:b.hoursToLive),path:(typeof h.path==="string"&&h.path!==""?h.path:b.path),domain:(typeof h.domain==="string"&&h.domain!==""?h.domain:b.domain),secure:(typeof h.secure==="boolean"&&h.secure?h.secure:b.secure)}}return j};var a=function(h){var j=new Date();j.setTime(j.getTime()+(h*60*60*1000));return j.toGMTString()};var f=function(h){h=g(h);return((typeof h.hoursToLive==="number"?"; expires="+a(h.hoursToLive):"")+"; path="+h.path+(typeof h.domain==="string"?"; domain="+h.domain:"")+(h.secure===true?"; secure":""))};var e=function(){d={};var m,j,l,h=document.cookie.split(";");for(var k=0;k<h.length;k=k+1){m=h[k].split("=");j=m[0].replace(/^\s*/,"").replace(/\s*$/,"");l=decodeURIComponent(m[1]);d[j]=l}return d};var c=function(){};c.prototype.get=function(k){var h;e();if(typeof k==="string"){h=(typeof d[k]!=="undefined")?d[k]:null}else{if(typeof k==="object"&&k!==null){h={};for(var j in k){if(typeof d[k[j]]!=="undefined"){h[k[j]]=d[k[j]]}else{h[k[j]]=null}}}else{h=d}}return h};c.prototype.filter=function(h){var j={};e();if(typeof h==="string"){h=new RegExp(h)}for(var k in d){if(k.match(h)){j[k]=d[k]}}return j};c.prototype.set=function(l,j,h){if(typeof j==="undefined"||j===null){if(typeof h!=="object"||h===null){h={}}j="";h.hoursToLive=-8760}var k=f(h);document.cookie=l+"="+encodeURIComponent(j)+k};c.prototype.del=function(l,k){var h={};if(typeof k!=="object"||k===null){k={}}if(typeof l==="boolean"&&l===true){h=this.get()}else{if(typeof l==="string"){h[l]=true}}for(var j in h){if(typeof j==="string"&&j!==""){this.set(j,null,k)}}};c.prototype.test=function(){var j=false,h="cT",k="data";this.set(h,k);if(this.get(h)===k){this.del(h);j=true}return j};c.prototype.setOptions=function(h){if(typeof h!=="object"){h=null}b=g(h)};return new c()})();(function(){if(window.jQuery){(function(b){b.cookies=jaaulde.utils.cookies;var a={cookify:function(c){return this.each(function(){var g,e=false,d=false,f="",k="",j=["name","id"],l,h;for(g in j){if(!isNaN(g)){f=b(this).attr(j[g]);if(typeof f==="string"&&f!==""){e=true;break}}}if(e){l=this.nodeName.toLowerCase();if(l!=="input"&&l!=="textarea"&&l!=="select"&&l!=="img"){k=b(this).html();d=true}else{h=b(this).attr("type");if(typeof h==="string"&&h!==""){h=h.toLowerCase()}if(h!=="radio"&&h!=="checkbox"){k=b(this).val();d=true}}if(d){if(typeof k!=="string"||k===""){k=null}b.cookies.set(f,k,c)}}})},cookieFill:function(){return this.each(function(){var e,c=false,d="",h,g=["name","id"],f=0,j;for(e in g){if(!isNaN(e)){d=b(this).attr(g[e]);if(typeof d==="string"&&d!==""){c=true;break}}}if(c){h=b.cookies.get(d);if(h!==null){j=this.nodeName.toLowerCase();if(j==="input"||j==="textarea"||j==="select"){b(this).val(h)}else{b(this).html(h)}}}f=0})},cookieBind:function(c){return this.each(function(){b(this).cookieFill().change(function(){b(this).cookify(c)})})}};b.each(a,function(c){b.fn[c]=this})})(window.jQuery)}})();(function(d){d.timeago=function(g){if(g instanceof Date){return a(g)}else{if(typeof g==="string"){return a(d.timeago.parse(g))}else{return a(d.timeago.datetime(g))}}};var f=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(m){var n=this.settings.strings;var j=n.prefixAgo;var s=n.suffixAgo;if(this.settings.allowFuture){if(m<0){j=n.prefixFromNow;s=n.suffixFromNow}m=Math.abs(m)}var p=m/1000;var g=p/60;var o=g/60;var q=o/24;var k=q/365;function h(t,v){var u=d.isFunction(t)?t(v,m):t;var w=(n.numbers&&n.numbers[v])||v;return u.replace(/%d/i,w)}var l=p<45&&h(n.seconds,Math.round(p))||p<90&&h(n.minute,1)||g<45&&h(n.minutes,Math.round(g))||g<90&&h(n.hour,1)||o<24&&h(n.hours,Math.round(o))||o<48&&h(n.day,1)||q<30&&h(n.days,Math.floor(q))||q<60&&h(n.month,1)||q<365&&h(n.months,Math.floor(q/30))||k<2&&h(n.year,1)||h(n.years,Math.floor(k));return d.trim([j,l,s].join(" "))},parse:function(h){var g=d.trim(h);g=g.replace(/\.\d\d\d+/,"");g=g.replace(/-/,"/").replace(/-/,"/");g=g.replace(/T/," ").replace(/Z/," UTC");g=g.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(g)},datetime:function(h){var j=d(h).get(0).tagName.toLowerCase()==="time";var g=j?d(h).attr("datetime"):d(h).attr("title");return f.parse(g)}});d.fn.timeago=function(){var h=this;h.each(c);var g=f.settings;if(g.refreshMillis>0){setInterval(function(){h.each(c)},g.refreshMillis)}return h};function c(){var g=b(this);if(!isNaN(g.datetime)){d(this).text(a(g.datetime))}return this}function b(g){g=d(g);if(!g.data("timeago")){g.data("timeago",{datetime:f.datetime(g)});var h=d.trim(g.text());if(h.length>0){g.attr("title",h)}}return g.data("timeago")}function a(g){return f.inWords(e(g))}function e(g){return(new Date().getTime()-g.getTime())}document.createElement("abbr");document.createElement("time");if(window.wgTimeAgoi18n){d.extend(d.timeago.settings.strings,wgTimeAgoi18n);d.timeago.settings.strings.suffixAgo=""}}(jQuery));(function(a){a.store=function(e,b){var d=this;this.encoders=[];this.decoders=[];if(typeof e=="string"){if(a.store.drivers[e]){this.driver=a.store.drivers[e]}else{throw new Error("Unknown driver "+e)}}else{if(typeof e=="object"){var c=!a.isFunction(e.init)||!a.isFunction(e.get)||!a.isFunction(e.set)||!a.isFunction(e.del)||!a.isFunction(e.flush);if(c){throw new Error("The specified driver does not fulfill the API requirements")}this.driver=e}else{a.each(a.store.drivers,function(){if(!a.isFunction(this.available)||!this.available()){return true}d.driver=this;if(d.driver.init()===false){d.driver=null;return true}return false})}}if(!b){b=a.store.serializers}this.serializers={};a.each(b,function(f,g){if(!a.isFunction(this.init)){return true}d.serializers[f]=this;d.serializers[f].init(d.encoders,d.decoders)})};a.extend(a.store.prototype,{get:function(b){var c=this.driver.get(b);return this.driver.encodes?c:this.unserialize(c)},set:function(b,c){this.driver.set(b,this.driver.encodes?c:this.serialize(c))},del:function(b){this.driver.del(b)},flush:function(){this.driver.flush()},driver:undefined,serialize:function(c){var b=this;a.each(this.encoders,function(){var d=b.serializers[this+""];if(!d||!d.encode){return true}try{c=d.encode(c)}catch(f){}});return c},unserialize:function(c){var b=this;if(!c){return c}a.each(this.decoders,function(){var d=b.serializers[this+""];if(!d||!d.decode){return true}c=d.decode(c)});return c}});a.store.drivers={localStorage:{ident:"$.store.drivers.localStorage",scope:"browser",available:function(){try{return !!window.localStorage}catch(b){return false}},init:a.noop,get:function(b){return window.localStorage.getItem(b)},set:function(b,c){window.localStorage.setItem(b,c)},del:function(b){window.localStorage.removeItem(b)},flush:function(){window.localStorage.clear()}},userData:{ident:"$.store.drivers.userData",element:null,nodeName:"userdatadriver",scope:"browser",initialized:false,available:function(){try{return !!(document.documentElement&&document.documentElement.addBehavior)}catch(b){return false}},init:function(){if(this.initialized){return}try{this.element=document.createElement(this.nodeName);document.documentElement.insertBefore(this.element,document.getElementsByTagName("title")[0]);this.element.addBehavior("#default#userData");this.initialized=true}catch(b){return false}},get:function(b){this.element.load(this.nodeName);return this.element.getAttribute(b)},set:function(b,c){this.element.setAttribute(b,c);this.element.save(this.nodeName)},del:function(b){this.element.removeAttribute(b);this.element.save(this.nodeName)},flush:function(){this.element.expires=(new Date()).toUTCString();this.element.save(this.nodeName)}},windowName:{ident:"$.store.drivers.windowName",scope:"window",cache:{},encodes:true,available:function(){return true},init:function(){this.load()},save:function(){window.name=a.store.serializers.json.encode(this.cache)},load:function(){try{this.cache=a.store.serializers.json.decode(window.name+"");if(typeof this.cache!="object"){this.cache={}}}catch(b){this.cache={};window.name="{}"}},get:function(b){return this.cache[b]},set:function(b,c){this.cache[b]=c;this.save()},del:function(b){try{delete this.cache[b]}catch(c){this.cache[b]=undefined}this.save()},flush:function(){window.name="{}"}}};a.store.serializers={json:{ident:"$.store.serializers.json",init:function(c,b){c.push("json");b.push("json")},encode:a.toJSON,decode:a.secureEvalJSON}}})(jQuery);$.storage=new $.store();jQuery.getSassCommonURL=function(b,a){return jQuery.getSassURL(wgCdnRootUrl,b,a)};jQuery.getSassLocalURL=function(b,a){return jQuery.getSassURL(wgServer,b,a)};jQuery.getSassURL=function(a,c,b){return a+wgAssetsManagerQuery.replace("%1$s","sass").replace("%2$s",c).replace("%3$s",encodeURIComponent($.param(b||window.sassParams))).replace("%4$d",wgStyleVersion)};$.ajaxSetup({cache:true});jQuery.getScript=function(url,callback,failureFn){jQuery.ajax({type:"GET",url:url,success:function(xhr){if(typeof callback=="function"){try{callback()}catch(e){eval(xhr);callback();$().log("eval() fallback applied for "+url,"getScript")}}},error:typeof failureFn=="function"?failureFn:$.noop,dataType:"script"})};jQuery.fn.log=function(b,a){if(typeof console!="undefined"){if(a){console.log((typeof b!="object"?"%s: %s":"%s: %o"),a,b)}else{console.log(b)}}else{if(typeof opera!="undefined"){opera.postError((a?(a+": "):"")+b)}}return this};jQuery.fn.exists=function(){return this.length>0};jQuery.fn.getModal=function(b,c,a){$.loadModalJS(function(){$().log("getModal: plugin loaded");var d=(skin=="oasis")?"body":"#positioned_elements";$.get(b,function(e){$(d).append(e);if(typeof a=="object"&&typeof a.callbackBefore=="function"){a.callbackBefore()}if(typeof c=="string"){$(c).makeModal(a);$().log("getModal: "+c+" modal made")}if(typeof a=="object"&&typeof a.callback=="function"){a.callback()}})})};jQuery.showModal=function(c,b,a){a=(typeof a!="object")?{}:a;$.loadModalJS(function(){var d,e;$().log("showModal: plugin loaded");if(skin=="oasis"){e=$("<h1>").html(c);d=$("<div>").html(b).prepend(e).appendTo("body")}else{d=$('<div class="modalContent">').html(b).attr("title",c).appendTo("#positioned_elements")}if(typeof a.callbackBefore=="function"){a.callbackBefore()}d.makeModal(a);if(typeof a.callback=="function"){a.callback()}})};jQuery.confirm=function(a){a=(typeof a!="object")?{}:a;a.id="WikiaConfirm";$.loadModalJS(function(){$().log("confirm: plugin loaded");var d="<p>"+(a.content||"")+'</p><div class="neutral modalToolbar"><button id="WikiaConfirmCancel" class="wikia-button secondary">'+(a.cancelMsg||"Cancel")+'</button><button id="WikiaConfirmOk" class="wikia-button">'+(a.okMsg||"Ok")+"</button></div>";var c=(skin=="oasis")?"body":"#positioned_elements";var b=$("<div>").appendTo(c).html(d).attr("title",a.title||"");if(typeof a.callbackBefore=="function"){a.callbackBefore()}$("#WikiaConfirmOk").click(function(){$("#WikiaConfirm").closeModal();if(typeof a.onOk=="function"){a.onOk()}});$("#WikiaConfirmCancel").click(function(){$("#WikiaConfirm").closeModal()});b.makeModal(a);if(typeof a.callback=="function"){a.callback()}})};jQuery.showCustomModal=function(c,b,a){a=(typeof a!="object")?{}:a;$.loadModalJS(function(){$().log("showCustomModal: plugin loaded");var j="";if(a.buttons){j=$('<div class="neutral modalToolbar"></div>');for(var g=0;g<a.buttons.length;g++){var f='<a id="'+a.buttons[g].id+'" class="wikia-button'+(a.buttons[g].defaultButton?"":" secondary")+'">'+a.buttons[g].message+"</a>";$(f).bind("click",a.buttons[g].handler).appendTo(j)}}var e=$("<div>").html(b).attr("title",c).append(j);var d=(skin=="oasis")?"body":"#positioned_elements";$(d).append(e);if(typeof a.callbackBefore=="function"){a.callbackBefore()}var h=e.makeModal(a);if(typeof a.callback=="function"){a.callback(h)}})};jQuery.postJSON=function(a,b,c){return jQuery.post(a,b,c,"json")};$.loadYUI=function(b){if(typeof YAHOO=="undefined"){if((typeof isYUIloading!="undefined")&&isYUIloading){$().log("is loading add call back to line","YUI");loadYUICallBackFIFO.push(b);return true}isYUIloading=true;loadYUICallBackFIFO=new Array();loadYUICallBackFIFO.push(b);$().log("loading on-demand","YUI");var a=function(){$().log("loaded","YUI");for(var c=0;c<loadYUICallBackFIFO.length;c++){loadYUICallBackFIFO[c].caller=$.loadYUI;loadYUICallBackFIFO[c]()}loadYUICallBackFIFO=null;isYUIloading=false};$().log("rq start","YUI");$.getScript(wgYUIPackageURL,a)}else{$().log("already loaded","YUI");b()}};$.loadJQueryUI=function(a){$.loadLibrary("jQueryUI",stylepath+"/common/jquery/jquery-ui-1.8.14.custom.js",typeof jQuery.ui,a)};$.loadJQueryAutocomplete=function(a){$.loadLibrary("jQuery Autocomplete",stylepath+"/common/jquery/jquery.autocomplete.js",typeof jQuery.fn.pluginAutocomplete,a)};$.loadWikiaTooltip=function(a){$.loadLibrary("Wikia Tooltip",[stylepath+"/common/jquery/jquery.wikia.tooltip.js",$.getSassCommonURL("skins/oasis/css/modules/WikiaTooltip.scss")],typeof jQuery.fn.wikiaTooltip,a)};$.loadJQueryAIM=function(a){$.loadLibrary("jQuery AIM",stylepath+"/common/jquery/jquery.aim.js",typeof jQuery.AIM,a)};$.loadModalJS=function(a){$.loadLibrary("makeModal()",stylepath+"/common/jquery/jquery.wikia.modal.js",typeof jQuery.fn.makeModal,a)};$.loadGoogleMaps=function(a){window.onGoogleMapsLoaded=function(){delete window.onGoogleMapsLoaded;if(typeof a==="function"){a()}};$.loadLibrary("GoogleMaps","http://maps.googleapis.com/maps/api/js?sensor=false&callback=onGoogleMapsLoaded",typeof(window.google&&google.maps),function(){});if(typeof(window.google&&google.maps)!="undefined"){a()}};$.loadFacebookAPI=function(a){$.loadLibrary("Facebook API",window.fbScript||"//connect.facebook.net/en_US/all.js",typeof window.FB,a)};$.loadGooglePlusAPI=function(a){$.loadLibrary("Google Plus API","//apis.google.com/js/plusone.js",typeof(window.gapi&&window.gapi.plusone),a)};$.loadTwitterAPI=function(a){$.loadLibrary("Twitter API","//platform.twitter.com/widgets.js",typeof(window.twttr&&window.twttr.widgets),a)};$.loadLibrary=function(c,d,a,e,b){if(a==="undefined"){$().log("loading "+c,"loadLibrary");d=(typeof d=="string")?[d]:d;$.getResources(d,function(){$().log(c+" loaded","loadLibrary");if(typeof e=="function"){e()}},b)}else{$().log(c+" already loaded","loadLibrary");if(typeof e=="function"){e()}}};$.chainFn=function(c,a){var b=Array.prototype.slice.call(arguments,0);return function(){var d=Array.prototype.slice.call(arguments,0);var g={};for(var f=0;f<b.length;f++){if(typeof b[f]!="function"){continue}try{b[f].apply(this,d)}catch(h){g[f]=h}}for(var f=0;f<b.length;f++){if(g[f]){throw g[f]}}return true}};$.bulkLoad=function(f,j,b){var e=f.length,c=0;var k=function(){if(c>=0){c++}if(c>=e){j()}};var g=function(){b();c=-1};for(var d=0;d<f.length;d++){var a=f[d];switch(typeof a){case"string":var h={yui:$.loadYUI,autocomplete:$.loadJQueryAutocomplete,tooltip:$.loadWikiaTooltip,"jquery-ui":$.loadJQueryUI,"jquery-aim":$.loadJQueryAIM,modal:$.loadModalJS}[a];if(h){h.call(window,k,g);continue}$().log(a,"$.bulkLoad(): unknown list item");break;case"object":var l=$.extend({},a,{success:$.chainFn(a.success,k),error:$.chainFn(a.error,g)});$.ajax(l);break;default:$().log(a,"$.bulkLoad(): unknown list item")}}return true};$.getEvent=function(d,a){var b=d||window.event;if(!b){var f=this.getEvent.caller;while(f){b=f.arguments[0];if(b&&Event==b.constructor){break}f=f.caller}}return b};$.extend({_urlVars:null,getUrlVars:function(){if($._urlVars===null){var d,b=window.location.search.slice(window.location.search.indexOf("?")+1).split("&");$._urlVars={};for(var c=0,a=b.length;c<a;c++){d=b[c].split("=");$._urlVars[d[0]]=d[1]}}return $._urlVars},getUrlVar:function(a){return $.getUrlVars()[a]}});jQuery.fn.reverse=function(){return this.pushStack(this.get().reverse(),arguments)};jQuery.fn.isChrome=function(){if($.browser.webkit&&!$.browser.opera&&!$.browser.msie&&!$.browser.mozilla){var a=navigator.userAgent.toLowerCase();if(a.indexOf("chrome")>-1){return true}}return false};jQuery.fn.isTouchscreen=function(){return("ontouchstart" in window)};$.fn.hasParent=function(a){return this.first().parent().closest(a).exists()};$(function(){if(typeof wgNow!="undefined"){var a=(new Date()).getTime()-wgNow.getTime();$().log("DOM ready after "+a+" ms",window.skin)}});$(window).bind("load",function(){if(typeof wgNow!="undefined"){var a=(new Date()).getTime()-wgNow.getTime();$().log("window onload after "+a+" ms",window.skin)}});jQuery.fn.placeholder=function(){var a="placeholder" in document.createElement("input");return this.each(function(){if(!a){var b=$(this);var c=b.attr("placeholder");if(b.val()==""){b.addClass("placeholder").val(c)}b.bind("focus.placeholder",function(){if(b.val()==c){b.val("")}b.removeClass("placeholder")});b.bind("blur.placeholder",function(){if(b.val()==""){b.addClass("placeholder").val(c)}});b.closest("form").bind("submit.placeholder",function(){if(b.val()==c){b.val("")}})}})};$(function(){$("input[placeholder], textarea[placeholder]").placeholder()});jQuery.fn.startThrobbing=function(){this.append('<div id="wikiaThrobber"></div>')};jQuery.fn.stopThrobbing=function(){this.find("#wikiaThrobber").remove()};$.htmlentities=function(a){return String(a).replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;")};$.extend({createClass:function(g,e){var b=e.constructor;if(typeof b!="function"||b==Object.prototype.constructor){b=function(){g.apply(this,arguments)}}var d=b;var c=function(){};c.prototype=g.prototype||{};d.prototype=new c();if(typeof e.statics=="object"){d=$.extend(d,e.statics);delete e.statics}for(var a in e){d.prototype[a]=e[a]}d.prototype.constructor=d;d.superclass=g.prototype;return d}});$.extend({proxyBind:function(c,a,b){return function(){var d=b.slice(0).concat(Array.prototype.call(arguments,0));return c.apply(a,d)}}});Observable=$.createClass(Object,{constructor:function(){Observable.superclass.constructor.apply(this,arguments);this.events={}},bind:function(d,a,c){if(typeof d=="object"){c=a;for(var b in d){if(b!=="scope"){this.bind(b,d[b],d.scope||c)}}}else{if($.isArray(a)){for(var b=0;b<a.length;b++){this.bind(d,a[b],c)}}else{c=c||this;this.events[d]=this.events[d]||[];this.events[d].push({fn:a,scope:c})}}return true},unbind:function(f,a,d){if(typeof f=="object"){d=a;var b=false;for(var c in f){if(c!=="scope"){b=this.unbind(c,f[c],f.scope||d)||b}}return b}else{if($.isArray(a)){var b=false;for(var c=0;c<a.length;c++){b=this.unbind(f,a[c],d)||b}return b}else{if(!this.events[f]){return false}d=d||this;for(var c in this.events[f]){if(this.events[f][c].fn==a&&this.events[f][c].scope==d){delete this.events[f][c];return true}}return false}}},on:function(b,a){this.bind.apply(this,arguments)},un:function(b,a){this.unbind.apply(this,arguments)},relayEvents:function(c,a,b){b=b||a;c.bind(a,function(){var d=[b].concat(arguments);this.fire.apply(this,d)},this)},fire:function(g){var c=Array.prototype.slice.call(arguments,1);if(!this.events[g]){return true}var b=this.events[g];for(var d=0;d<b.length;d++){if(typeof b[d].fn=="function"){var f=b[d].scope||this;if(b[d].fn.apply(f,c)===false){return false}}}return true},proxy:function(a){return $.proxy(a,this)},debugEvents:function(c){var b=c?c:["bind","unbind","fire","relayEvents"];for(var a=0;a<b.length;a++){(function(d){if(typeof this["nodebug-"+d]=="undefined"){var e=this["nodebug-"+d]=this[d];this[d]=function(){window.console&&console.log&&console.log(this,d,arguments);return e.apply(this,arguments)}}}).call(this,b[a])}}});GlobalTriggers=(function(){var a=$.createClass(Observable,{fired:null,constructor:function(){a.superclass.constructor.apply(this);this.fired={}},bind:function(f,b,d){a.superclass.bind.apply(this,arguments);if(typeof f=="object"||$.isArray(b)){return}if(typeof this.fired[f]!="undefined"){var c=this.fired[f].slice(0);setTimeout(function(){for(i=0;i<c.length;i++){b.apply(d||window,c[i])}},10)}},fire:function(c){var b=Array.prototype.slice.call(arguments,1);this.fired[c]=this.fired[c]||[];this.fired[c].push(b);a.superclass.fire.apply(this,arguments)}});return new a()})();Timer=$.createClass(Object,{callback:null,timeout:1000,timer:null,constructor:function(b,a){this.callback=b;this.timeout=(typeof a=="number")?a:this.timeout},run:function(){this.callback.apply(window)},start:function(a){this.stop();a=(typeof a=="number")?a:this.timeout;this.timer=setTimeout(this.callback,a)},stop:function(){if(this.timer!=null){clearTimeout(this.timer);this.timer=null}}});$.extend(Timer,{create:function(c,a){var b=new Timer(c,a);return b},once:function(c,a){var b=Timer.create(c,a);b.start();return b}});jQuery.getResources=function(b,k){var j=/.js(\?(.*))?$/,f=/.css(\?(.*))?$/,g=/.scss/,h=/__am\/\d+\/group/,e=b.length;var c=function(){e--;if(e==0){if(typeof k=="function"){k()}}};for(var a=0;a<b.length;a++){var d=b[a];if(typeof d=="function"){d.call(jQuery,c)}else{if(j.test(d)||h.test(d)){$.getScript(d,c)}else{if(f.test(d)||g.test(d)){$.getCSS(d,c)}}}}};jQuery.uniqueId=function(d,c){if(typeof d=="undefined"){d=""}var b;var a=function(e,f){e=parseInt(e,10).toString(16);if(f<e.length){return e.slice(e.length-f)}if(f>e.length){return Array(1+(f-e.length)).join("0")+e}return e};if(!this.php_js){this.php_js={}}if(!this.php_js.uniqidSeed){this.php_js.uniqidSeed=Math.floor(Math.random()*123456789)}this.php_js.uniqidSeed++;b=d;b+=a(parseInt(new Date().getTime()/1000,10),8);b+=a(this.php_js.uniqidSeed,5);if(c){b+=(Math.random()*10).toFixed(8).toString()}return b};if(jQuery.support){jQuery.support.fileUpload=jQuery.support.keyboardShortcut=jQuery.support.positionFixed=!(navigator.platform in {iPad:"",iPhone:"",iPod:""}||(navigator.userAgent.match(/android/i)!=null))}$.tmpl=function tmpl(d,b){try{var a=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+d.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")}catch(c){$().log(c,"$.tmpl");$().log(d,"$.tmpl")}return b?a(b):a};jQuery.nirvana={};jQuery.nirvana.sendRequest=function(a){var c=(typeof a.type=="undefined")?"POST":a.type.toUpperCase();var f=(typeof a.format=="undefined")?"json":a.format.toLowerCase();var e=(typeof a.data=="undefined")?{}:a.data;var g=(typeof a.callback=="undefined")?function(){}:a.callback;var d=(typeof a.onErrorCallback=="undefined")?function(){}:a.onErrorCallback;if((typeof a.controller=="undefined")||(typeof a.method=="undefined")){throw"controller and method are required"}if(!(f==="json"||f==="html"||f==="jsonp")){throw"Only Json,Jsonp and Html format are allowed"}$().log(e,"request to nirvana");var b=(typeof a.scriptPath=="undefined")?wgScriptPath:a.scriptPath;$.ajax({url:b+"/wikia.php?"+$.param({controller:a.controller,method:a.method,format:f}),dataType:f,type:c,data:e,success:g,error:d})};jQuery.nirvana.getJson=function(a,e,c,d,b){jQuery.nirvana.ajaxJson(a,e,c,d,b,"GET")};jQuery.nirvana.postJson=function(a,e,c,d,b){jQuery.nirvana.ajaxJson(a,e,c,d,b,"POST")};jQuery.nirvana.ajaxJson=function(b,f,d,e,c,a){if(typeof d=="function"){e=d;d={}}jQuery.nirvana.sendRequest({controller:b,method:f,data:d,type:a,format:"json",callback:e,onErrorCallback:c})};jQuery.openPopup=function(d,c,b,e,a){if(wgUserName){window.open(d,c,"width="+e+",height="+a+",menubar=no,status=no,location=no,toolbar=no,scrollbars=no,resizable=yes")}else{showComboAjaxForPlaceHolder(false,"",function(){AjaxLogin.doSuccess=function(){$(".modalWrapper").children().not(".close").not(".modalContent").not("h1").remove();$(".modalContent").load(wgServer+wgScript+"?action=ajax&rs=moduleProxy&moduleName="+b+"&actionName=AnonLoginSuccess&outputType=html")}},false,message)}};if(typeof[].indexOf=="undefined"){Array.prototype.indexOf=function(d,c){c=c||0;for(var b=c,a=this.length;b<a;b++){if(this[b]===d){return b}}return -1}}$(function(){if(window.beacon_id){$.cookies.set("wikia_beacon_id",window.beacon_id,{path:wgCookiePath,domain:wgCookieDomain})}window.wgWikiaDOMReady=true});var innerShiv=function(){function b(j,h,g){return/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i.test(g)?j:h+"></"+g+">"}var k,f=document,a,d="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");return function(j,g){if(!k&&(k=f.createElement("div"),k.innerHTML="<nav></nav>",a=k.childNodes.length!==1)){for(var c=f.createDocumentFragment(),h=d.length;h--;){c.createElement(d[h])}c.appendChild(k)}j=j.replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/(<([\w:]+)[^>]*?)\/>/g,b);k.innerHTML=(c=j.match(/^<(tbody|tr|td|col|colgroup|thead|tfoot)/i))?"<table>"+j+"</table>":j;c=c?k.getElementsByTagName(c[1])[0].parentNode:k;if(g===false){return c.childNodes}for(var h=f.createDocumentFragment(),e=c.childNodes.length;e--;){h.appendChild(c.firstChild)}return h}}();$.expiryStorage=new $.store();$.expiryStorage.get=function(a){var c=this.driver.get(a);if(!c){return}var b=this.driver.encodes?c:this.unserialize(c);c=null;var e=new Date();if(b.expires>=e.getTime()){c=b.value}else{this.del(a)}return c};$.expiryStorage.set=function(b,e,a){var f;if(typeof a=="number"){f=new Date();f.setTime(f.getTime()+(a))}else{if(typeof a=="object"&&a.toUTCString){f=a}else{throw"expires is not in a valid form"}}var c={value:e,expires:f.getTime()};this.driver.set(b,this.driver.encodes?c:this.serialize(c))};var WikiaWideTables={settings:{article:$("#WikiaArticle"),tables:[],popouts:null},init:function(){WikiaWideTables.getTables();if(WikiaWideTables.settings.tables.length){$.each(WikiaWideTables.settings.tables,function(){var d=this,f;f=d.wrap('<div class="WikiaWideTablesWrapper"><div class="table"></div></div>').parent().parent();$('<img src="'+wgBlankImgUrl+'" class="sprite popout">').click(WikiaWideTables.makeModal).prependTo(f);if(d.attr("data-overflow")=="true"){var b=$("<canvas></canvas>").prependTo(f);if(b.get(0).getContext){var c=b.get(0).getContext("2d");b.css({position:"absolute",right:0,top:0}).attr("width",15).attr("height",f.height());var e=0;var a=15;c.moveTo(a,e);while(e<b.height()){a=6;e+=17;c.lineTo(a,e);a=13;e+=21;c.lineTo(a,e);a=0;e+=21;c.lineTo(a,e);a=10;e+=19;c.lineTo(a,e);a=3;e+=18;c.lineTo(a,e);a=15;e+=27;c.lineTo(a,e)}c.fillStyle=window.sassParams["color-page"];c.fill()}else{b.remove();f.addClass("border")}}});WikiaWideTables.settings.popouts=$(".WikiaWideTablesWrapper > .popout");$(window).scroll(WikiaWideTables.popoutScrolling)}},getTables:function(){WikiaWideTables.settings.article.find("table").each(function(){var a=$(this);if(a.width()<=WikiaWideTables.settings.article.width()&&!a.hasClass("popout")){return}if(a.width()>WikiaWideTables.settings.article.width()){a.attr("data-overflow","true")}WikiaWideTables.settings.tables.push(a)})},makeModal:function(b){var a=$(b.currentTarget).next(".table").children("table:first");a.clone().makeModal({id:"ModalTable",width:$(window).width()-100});$("#ModalTable .modalContent").css({overflow:"auto",height:$(window).height()-150})},popoutScrolling:function(){WikiaWideTables.settings.popouts.each(function(){var a=$(this),e=a.parent(),d=e.offset().top,c=d+e.height(),b=$(window).scrollTop();if(b>d&&b<c&&a.css("position")=="absolute"){a.css("margin-left",a.offset().left-($(window).width()/2)).addClass("float")}else{if((b<d||b>c)&&a.hasClass("float")){a.css("margin-left","auto").removeClass("float")}}})}};$(function(){WikiaWideTables.init()});jQuery.hideAds=function(){};jQuery.showAds=function(){};var clientPC=navigator.userAgent.toLowerCase();var is_gecko=/gecko/.test(clientPC)&&!/khtml|spoofer|netscape\/7\.0/.test(clientPC);var webkit_match=clientPC.match(/applewebkit\/(\d+)/);if(webkit_match){var is_safari=clientPC.indexOf("applewebkit")!=-1&&clientPC.indexOf("spoofer")==-1;var is_safari_win=is_safari&&clientPC.indexOf("windows")!=-1;var webkit_version=parseInt(webkit_match[1])}var is_ff2=/firefox\/[2-9]|minefield\/3/.test(clientPC);var ff2_bugs=/firefox\/2/.test(clientPC);var is_ff2_win=is_ff2&&clientPC.indexOf("windows")!=-1;var is_ff2_x11=is_ff2&&clientPC.indexOf("x11")!=-1;if(clientPC.indexOf("opera")!=-1){var is_opera=true;var is_opera_preseven=window.opera&&!document.childNodes;var is_opera_seven=window.opera&&document.childNodes;var is_opera_95=/opera\/(9\.[5-9]|[1-9][0-9])/.test(clientPC);var opera6_bugs=is_opera_preseven;var opera7_bugs=is_opera_seven&&!is_opera_95;var opera95_bugs=/opera\/(9\.5)/.test(clientPC)}var ie6_bugs=false;if(/msie ([0-9]{1,}[\.0-9]{0,})/.exec(clientPC)!=null&&parseFloat(RegExp.$1)<=6){ie6_bugs=true}var doneOnloadHook;if(!window.onloadFuncts){var onloadFuncts=[]}function addOnloadHook(a){if(!doneOnloadHook){onloadFuncts[onloadFuncts.length]=a}else{a()}}function hookEvent(b,a){addHandler(window,b,a)}function importScript(b){var a=wgScript+"?title="+encodeURIComponent(b.replace(/ /g,"_")).replace(/%2F/ig,"/").replace(/%3A/ig,":")+"&action=raw&ctype=text/javascript";return importScriptURI(a)}var loadedScripts={};function importScriptURI(a){if(loadedScripts[a]){return null}loadedScripts[a]=true;var b=document.createElement("script");b.setAttribute("src",a);b.setAttribute("type","text/javascript");document.getElementsByTagName("head")[0].appendChild(b);return b}function importStylesheet(a){return importStylesheetURI(wgScript+"?action=raw&ctype=text/css&title="+encodeURIComponent(a.replace(/ /g,"_")))}function importStylesheetURI(b,c){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=b;if(c){a.media=c}document.getElementsByTagName("head")[0].appendChild(a);return a}function appendCSS(b){var a=document.createElement("style");a.type="text/css";a.rel="stylesheet";if(a.styleSheet){a.styleSheet.cssText=b}else{a.appendChild(document.createTextNode(b+""))}document.getElementsByTagName("head")[0].appendChild(a);return a}if(typeof stylepath!="undefined"&&skin=="monobook"){if(opera6_bugs){importStylesheetURI(stylepath+"/"+skin+"/Opera6Fixes.css")}else{if(opera7_bugs){importStylesheetURI(stylepath+"/"+skin+"/Opera7Fixes.css")}else{if(opera95_bugs){importStylesheetURI(stylepath+"/"+skin+"/Opera9Fixes.css")}else{if(ff2_bugs){importStylesheetURI(stylepath+"/"+skin+"/FF2Fixes.css")}}}}}if(typeof(wgBreakFrames)!="undefined"&&wgBreakFrames){if(window.top!=window){window.top.location=window.location}}function showTocToggle(l,k,j){if(document.createTextNode){var a=document.getElementById("toctitle");var m=document.getElementById("togglelink");if(!a||m){return}var b=document.createElement("span");b.className="toctoggle";var f=document.createElement("a");f.id=j?j:"togglelink";f.className="internal";f.rel="nofollow";f.href=j?"javascript:toggleToc('"+k+"','"+j+"')":"javascript:toggleToc()";f.appendChild(document.createTextNode(tocHideText));b.appendChild(document.createTextNode("["));b.appendChild(f);b.appendChild(document.createTextNode("]"));a.appendChild(document.createTextNode(" "));a.appendChild(b);var d=document.cookie.indexOf("hidetoc=");if(d>-1&&document.cookie.charAt(d+8)==1){toggleToc(k,j)}if(typeof window.TOCimprovementsEnabled!="undefined"&&!wgUserName){var c=document.getElementById(k?k:"toc");var h=getElementsByClassName(c,"li","toclevel-1");var g=h.length;if(d==-1){for(var e=0;e<g;e++){h[e].style.display="none"}var f=document.getElementById(j?j:"togglelink");changeText(f,tocShowText)}else{if(document.cookie.charAt(d+8)=="0"){for(var e=0;e<g;e++){h[e].style.display="block"}}}}}}function changeText(a,b){if(a.innerText){a.innerText=b}else{if(a.firstChild&&a.firstChild.nodeValue){a.firstChild.nodeValue=b}}}function toggleToc(c,d){var g=document.getElementById(c?c:"toc");var b=getElementsByClassName(g,"li","toclevel-1");var f=document.getElementById(d?d:"togglelink");var a=b.length;if(g&&f&&b[0].style.display=="none"){changeText(f,tocHideText);for(var e=0;e<a;e++){b[e].style.display="block"}document.cookie="hidetoc=0"}else{changeText(f,tocShowText);for(var e=0;e<a;e++){b[e].style.display="none"}document.cookie="hidetoc=1"}}var mwEditButtons=[];var mwCustomEditButtons=[];function escapeQuotes(b){var a=new RegExp("'","g");b=b.replace(a,"\\'");a=new RegExp("\\n","g");b=b.replace(a,"\\n");return escapeQuotesHTML(b)}function escapeQuotesHTML(b){var a=new RegExp("&","g");b=b.replace(a,"&amp;");a=new RegExp('"',"g");b=b.replace(a,"&quot;");a=new RegExp("<","g");b=b.replace(a,"&lt;");a=new RegExp(">","g");b=b.replace(a,"&gt;");return b}var tooltipAccessKeyPrefix="alt-";if(is_opera){tooltipAccessKeyPrefix="shift-esc-"}else{if(!is_safari_win&&is_safari&&webkit_version>526){tooltipAccessKeyPrefix="ctrl-alt-"}else{if(!is_safari_win&&(is_safari||clientPC.indexOf("mac")!=-1||clientPC.indexOf("konqueror")!=-1)){tooltipAccessKeyPrefix="ctrl-"}else{if(is_ff2){tooltipAccessKeyPrefix="alt-shift-"}}}}var tooltipAccessKeyRegexp=/\[(ctrl-)?(alt-)?(shift-)?(esc-)?(.)\]$/;function updateTooltipAccessKeys(a){if(!a){var d=["column-one","mw-head","mw-panel","p-logo"];for(var c in d){var f=document.getElementById(d[c]);if(f){updateTooltipAccessKeys(f.getElementsByTagName("a"))}}updateTooltipAccessKeys(document.getElementsByTagName("input"));updateTooltipAccessKeys(document.getElementsByTagName("label"));return}for(var c=0;c<a.length;c++){var b=a[c];var e=b.getAttribute("title");if(e&&tooltipAccessKeyRegexp.exec(e)){e=e.replace(tooltipAccessKeyRegexp,"["+tooltipAccessKeyPrefix+"$5]");b.setAttribute("title",e)}}}function addPortletLink(g,a,j,b,l,h,m){var e=document.getElementById(g);if(!e){return null}var c=e.getElementsByTagName("ul")[0];if(!c){return null}e.className=e.className.replace(/(^| )emptyPortlet( |$)/,"$2");var f=document.createElement("span");f.appendChild(document.createTextNode(j));var d=document.createElement("a");d.appendChild(f);d.href=a;var k=document.createElement("li");k.appendChild(d);if(b){k.id=b}if(h){d.setAttribute("accesskey",h);l+=" ["+h+"]"}if(l){d.setAttribute("title",l)}if(h&&l){updateTooltipAccessKeys(new Array(d))}if(m&&m.parentNode==c){c.insertBefore(k,m)}else{c.appendChild(k)}return k}function getInnerText(d){if(typeof d=="string"){return d}if(typeof d=="undefined"){return d}if(d.textContent){return d.textContent}if(d.innerText){return d.innerText}var e="";var c=d.childNodes;var a=c.length;for(var b=0;b<a;b++){switch(c[b].nodeType){case 1:e+=ts_getInnerText(c[b]);break;case 3:e+=c[b].nodeValue;break}}return e}window.ta=[];function akeytt(a){}var checkboxes;var lastCheckbox;function setupCheckboxShiftClick(){checkboxes=[];lastCheckbox=null;var a=document.getElementsByTagName("input");addCheckboxClickHandlers(a)}function addCheckboxClickHandlers(c,f){if(!f){f=0}var e=f+250;if(e>c.length){e=c.length}for(var d=f;d<e;d++){var a=c[d];if(!a.type||a.type.toLowerCase()!="checkbox"){continue}var b=checkboxes.length;checkboxes[b]=a;a.index=b;a.onclick=checkboxClickHandler}if(e<c.length){setTimeout(function(){addCheckboxClickHandlers(c,e)},200)}}function checkboxClickHandler(d){if(typeof d=="undefined"){d=window.event}if(!d.shiftKey||lastCheckbox===null){lastCheckbox=this.index;return true}var a=this.checked;var f,c;if(this.index<lastCheckbox){f=this.index+1;c=lastCheckbox}else{f=lastCheckbox;c=this.index-1}for(var b=f;b<=c;++b){checkboxes[b].checked=a;if(b>f&&typeof checkboxes[b].onchange=="function"){checkboxes[b].onchange()}}lastCheckbox=this.index;return true}function getElementsByClassName(n,o,p){var f=new Array();if(!n){return f}if(typeof(n.getElementsByClassName)=="function"){var g=n.getElementsByClassName(p);if(o=="*"){return g}for(var e=0;e<g.length;e++){if(g[e].tagName.toLowerCase()==o.toLowerCase()){f[f.length]=g[e]}}return f}var l=(o=="*"&&n.all)?n.all:n.getElementsByTagName(o);var q=new Array();if(typeof p=="object"){for(var d=0;d<p.length;d++){q[q.length]=new RegExp("(^|\\s)"+p[d].replace(/\-/g,"\\-")+"(\\s|$)")}}else{q[q.length]=new RegExp("(^|\\s)"+p.replace(/\-/g,"\\-")+"(\\s|$)")}var a;var m;for(var c=0;c<l.length;c++){a=l[c];m=true;for(var b=0;b<q.length;b++){if(!q[b].test(a.className)){m=false;break}}if(m){f[f.length]=a}}return(f)}function redirectToFragment(c){var b=navigator.userAgent.match(/AppleWebKit\/(\d+)/);if(b){var a=parseInt(b[1]);if(a<420){return}}if(is_gecko){addOnloadHook(function(){if(window.location.hash==""){window.location.hash=c}})}else{if(window.location.hash==""){window.location.hash=c}}}var ts_image_path=stylepath+"/common/images/";var ts_image_up="sort_up.gif";var ts_image_down="sort_down.gif";var ts_image_none="sort_none.gif";var ts_europeandate=wgContentLanguage!="en";var ts_alternate_row_colors=false;var ts_number_transform_table=null;var ts_number_regex=null;function sortables_init(){var a=0;var b=getElementsByClassName(document,"table","sortable");for(var c=0;c<b.length;c++){if(!b[c].id){b[c].setAttribute("id","sortable_table_id_"+a);++a}ts_makeSortable(b[c])}}function ts_makeSortable(c){var d;if(c.rows&&c.rows.length>0){if(c.tHead&&c.tHead.rows.length>0){d=c.tHead.rows[c.tHead.rows.length-1]}else{d=c.rows[0]}}if(!d){return}for(var b=0;b<d.cells.length;b++){var a=d.cells[b];if((" "+a.className+" ").indexOf(" unsortable ")==-1){a.innerHTML+='<a href="#" class="sortheader" onclick="ts_resortTable(this);return false;"><span class="sortarrow"><img src="'+ts_image_path+ts_image_none+'" alt="&darr;"/></span></a>'}}if(ts_alternate_row_colors){ts_alternate(c)}}function ts_getInnerText(a){return getInnerText(a)}function ts_resortTable(w){var p=w.getElementsByTagName("span")[0];var l=w.parentNode;var b=l.parentNode;var d=l.cellIndex;var s=b.parentNode;while(s&&!(s.tagName&&s.tagName.toLowerCase()=="table")){s=s.parentNode}if(!s){return}if(s.rows.length<=1){return}if(ts_number_transform_table===null){ts_initTransformTable()}var k=(s.tHead&&s.tHead.rows.length>0?0:1);var f="";for(var q=k;q<s.rows.length;q++){if(s.rows[q].cells.length>d){f=ts_getInnerText(s.rows[q].cells[d]);f=f.replace(/^[\s\xa0]+/,"").replace(/[\s\xa0]+$/,"");if(f!=""){break}}}var c=ts_sort_generic;var a=ts_toLowerCase;if(/^\d\d[\/. -][a-zA-Z]{3}[\/. -]\d\d\d\d$/.test(f)){a=ts_dateToSortKey}else{if(/^\d\d[\/.-]\d\d[\/.-]\d\d\d\d$/.test(f)){a=ts_dateToSortKey}else{if(/^\d\d[\/.-]\d\d[\/.-]\d\d$/.test(f)){a=ts_dateToSortKey}else{if(/(^([-\u2212] *)?[\u00a3$\u20ac\u00a4\u00a5]|\u00a2$)/.test(f)){a=ts_currencyToSortKey}else{if(ts_number_regex.test(f)){a=ts_parseFloat}}}}}var m=(p.getAttribute("sortdir")=="down");var u=new Array();var x=new Array();for(var o=k;o<s.rows.length;o++){var h=s.rows[o];if((" "+h.className+" ").indexOf(" unsortable ")<0){var t=ts_getInnerText(h.cells[d]);if(t===undefined){t=""}var e=(m?-o:o);var v=a(t.replace(/^[\s\xa0]+/,"").replace(/[\s\xa0]+$/,""));u[u.length]=new Array(h,v,e)}else{x[x.length]=new Array(h,false,o-k)}}u.sort(c);var n;if(m){n='<img src="'+ts_image_path+ts_image_down+'" alt="&darr;"/>';u.reverse();p.setAttribute("sortdir","up")}else{n='<img src="'+ts_image_path+ts_image_up+'" alt="&uarr;"/>';p.setAttribute("sortdir","down")}for(var q=0;q<x.length;q++){var h=x[q];u.splice(h[2],0,h)}for(var q=0;q<u.length;q++){if((" "+u[q][0].className+" ").indexOf(" sortbottom ")==-1){s.tBodies[0].appendChild(u[q][0])}}for(var q=0;q<u.length;q++){if((" "+u[q][0].className+" ").indexOf(" sortbottom ")!=-1){s.tBodies[0].appendChild(u[q][0])}}var g=getElementsByClassName(b,"span","sortarrow");for(var q=0;q<g.length;q++){g[q].innerHTML='<img src="'+ts_image_path+ts_image_none+'" alt="&darr;"/>'}p.innerHTML=n;if(ts_alternate_row_colors){ts_alternate(s)}}function ts_initTransformTable(){if(typeof wgSeparatorTransformTable=="undefined"||(wgSeparatorTransformTable[0]==""&&wgDigitTransformTable[2]=="")){digitClass="[0-9,.]";ts_number_transform_table=false}else{ts_number_transform_table={};ascii=wgSeparatorTransformTable[0].split("\t");localised=wgSeparatorTransformTable[1].split("\t");for(var a=0;a<ascii.length;a++){ts_number_transform_table[localised[a]]=ascii[a]}ascii=wgDigitTransformTable[0].split("\t");localised=wgDigitTransformTable[1].split("\t");for(var a=0;a<ascii.length;a++){ts_number_transform_table[localised[a]]=ascii[a]}digits=["0","1","2","3","4","5","6","7","8","9",",","\\."];maxDigitLength=1;for(var b in ts_number_transform_table){digits.push(b.replace(/[\\\\$\*\+\?\.\(\)\|\{\}\[\]\-]/,function(c){return"\\"+c}));if(b.length>maxDigitLength){maxDigitLength=b.length}}if(maxDigitLength>1){digitClass="["+digits.join("",digits)+"]"}else{digitClass="("+digits.join("|",digits)+")"}}ts_number_regex=new RegExp("^([-+\u2212]?[0-9][0-9,]*(\\.[0-9,]*)?(E[-+\u2212]?[0-9][0-9,]*)?|[-+\u2212]?"+digitClass+"+%?)$","i")}function ts_toLowerCase(a){return a.toLowerCase()}function ts_dateToSortKey(a){if(a.length==11){switch(a.substr(3,3).toLowerCase()){case"jan":var b="01";break;case"feb":var b="02";break;case"mar":var b="03";break;case"apr":var b="04";break;case"may":var b="05";break;case"jun":var b="06";break;case"jul":var b="07";break;case"aug":var b="08";break;case"sep":var b="09";break;case"oct":var b="10";break;case"nov":var b="11";break;case"dec":var b="12";break}return a.substr(7,4)+b+a.substr(0,2)}else{if(a.length==10){if(ts_europeandate==false){return a.substr(6,4)+a.substr(0,2)+a.substr(3,2)}else{return a.substr(6,4)+a.substr(3,2)+a.substr(0,2)}}else{if(a.length==8){yr=a.substr(6,2);if(parseInt(yr)<50){yr="20"+yr}else{yr="19"+yr}if(ts_europeandate==true){return yr+a.substr(3,2)+a.substr(0,2)}else{return yr+a.substr(0,2)+a.substr(3,2)}}}}return"00000000"}function ts_parseFloat(a){if(!a){return 0}if(ts_number_transform_table!=false){var d="",e;for(var b=0;b<a.length;b++){e=a.charAt(b);if(e in ts_number_transform_table){d+=ts_number_transform_table[e]}else{d+=e}}a=d}num=parseFloat(a.replace(/[, ]/g,"").replace("\u2212","-"));return(isNaN(num)?-Infinity:num)}function ts_currencyToSortKey(a){return ts_parseFloat(a.replace(/[^-\u22120-9.,]/g,""))}function ts_sort_generic(d,c){return d[1]<c[1]?-1:d[1]>c[1]?1:d[2]-c[2]}function ts_alternate(h){var f=h.getElementsByTagName("tbody");for(var e=0;e<f.length;e++){var g=f[e].getElementsByTagName("tr");for(var d=0;d<g.length;d++){var c=g[d].className.split(" ");var b="";for(var a=0;a<c.length;a++){if(c[a]!=""&&c[a]!="even"&&c[a]!="odd"){b+=c[a]+" "}}g[d].className=b+(d%2==0?"even":"odd")}}}function jsMsg(c,b){if(!document.getElementById){return false}var a=document.getElementById("mw-js-message");if(!a){a=document.createElement("div");if(document.getElementById("column-content")&&document.getElementById("content")){document.getElementById("content").insertBefore(a,document.getElementById("content").firstChild)}else{if(document.getElementById("content")&&document.getElementById("article")){document.getElementById("article").insertBefore(a,document.getElementById("article").firstChild)}else{if(document.getElementById("article")){document.getElementById("article").insertBefore(a,document.getElementById("article").firstChild)}else{return false}}}}a.setAttribute("id","mw-js-message");a.style.display="block";if(b){a.setAttribute("class","mw-js-message-"+b)}if(typeof c==="object"){while(a.hasChildNodes()){a.removeChild(a.firstChild)}a.appendChild(c)}else{a.innerHTML=c}return true}function injectSpinner(a,c){var b=document.createElement("img");b.id="mw-spinner-"+c;b.src=stylepath+"/common/images/spinner.gif";b.alt=b.title="...";if(a.nextSibling){a.parentNode.insertBefore(b,a.nextSibling)}else{a.parentNode.appendChild(b)}}function removeSpinner(b){var a=document.getElementById("mw-spinner-"+b);if(a){a.parentNode.removeChild(a)}}function runOnloadHook(){if(doneOnloadHook||!(document.getElementById&&document.getElementsByTagName)){return}doneOnloadHook=true;updateTooltipAccessKeys(null);setupCheckboxShiftClick();sortables_init();for(var a=0;a<onloadFuncts.length;a++){onloadFuncts[a]()}}function addHandler(b,a,c){if(window.addEventListener){b.addEventListener(a,c,false)}else{if(window.attachEvent){b.attachEvent("on"+a,c)}}}function addClickHandler(a,b){addHandler(a,"click",b)}function removeHandler(b,a,c){if(window.removeEventListener){b.removeEventListener(a,c,false)}else{if(window.detachEvent){b.detachEvent("on"+a,c)}}}function getLabelFor(a){var c=document.getElementsByTagName("label");if(c&&(c.length>0)){for(var b=0;b<c.length;b++){if(c[b].htmlFor==a){return c[b]}}}return false}if(skin!="monaco"&&skin!="oasis"){if(!(skin=="answers"&&!window.wgOldAnswerSkin)){addOnloadHook(function(){for(var a=0;a<wgAfterContentAndJS.length;a++){wgAfterContentAndJS[a]()}})}}function importScriptPage(b,c){var a="/index.php?title="+encodeURIComponent(b.replace(/ /g,"_")).replace("%2F","/").replace("%3A",":")+"&action=raw&ctype=text/javascript";if(typeof c=="string"){if(c.indexOf("://")==-1){a="http://"+c+".wikia.com"+a}else{a=c+a}}return importScriptURI(a)}function importStylesheetPage(b,c){var a="/index.php?title="+encodeURIComponent(b.replace(/ /g,"_")).replace("%2F","/").replace("%3A",":")+"&action=raw&ctype=text/css";if(typeof c=="string"){if(c.indexOf("://")==-1){a="http://"+c+".wikia.com"+a}else{a=c+a}}return importStylesheetURI(a)}hookEvent("load",runOnloadHook);if(ie6_bugs){importScriptURI(stylepath+"/common/IEFixes.js")}mw={};var os_map={};var os_cache={};var os_cur_keypressed=0;var os_keypressed_count=0;var os_timer=null;var os_mouse_pressed=false;var os_mouse_num=-1;var os_mouse_moved=false;var os_search_timeout=250;var os_autoload_inputs=["searchInput","searchInput2","powerSearchText","searchText"];var os_autoload_forms=["searchform","searchform2","powersearch","search"];var os_is_stopped=false;var os_max_lines_per_suggest=7;var os_animation_steps=6;var os_animation_min_step=2;var os_animation_delay=30;var os_container_max_width=2;var os_animation_timer=null;var os_use_datalist=false;function os_Timer(c,a,b){this.id=c;this.r=a;this.query=b}function os_Results(a,b){this.searchform=b;this.searchbox=a;this.container=a+"Suggest";this.resultTable=a+"Result";this.resultText=a+"ResultText";this.toggle=a+"Toggle";this.query=null;this.results=null;this.resultCount=0;this.original=null;this.selected=-1;this.containerCount=0;this.containerRow=0;this.containerTotal=0;this.visible=false;this.stayHidden=false}function os_AnimationTimer(a,c){this.r=a;var b=document.getElementById(a.container).offsetWidth;this.inc=Math.round((c-b)/os_animation_steps);if(this.inc<os_animation_min_step&&this.inc>=0){this.inc=os_animation_min_step}if(this.inc>-os_animation_min_step&&this.inc<0){this.inc=-os_animation_min_step}this.target=c}function os_MWSuggestInit(){for(var b=0;b<os_autoload_inputs.length;b++){var d=os_autoload_inputs[b];var c=os_autoload_forms[b];var a=document.getElementById(d);if(a!=null){os_initHandlers(d,c,a)}}}function os_initHandlers(a,d,b){var c=new os_Results(a,d);os_hookEvent(b,"keyup",function(e){os_eventKeyup(e)});os_hookEvent(b,"keydown",function(e){os_eventKeydown(e)});os_hookEvent(b,"keypress",function(e){os_eventKeypress(e)});if(!os_use_datalist){os_hookEvent(b,"blur",function(e){os_eventBlur(e)});os_hookEvent(b,"focus",function(e){os_eventFocus(e)});b.setAttribute("autocomplete","off")}os_hookEvent(document.getElementById(d),"submit",function(e){return os_eventOnsubmit(e)});os_map[a]=c;if(document.getElementById(c.toggle)==null){}}function os_hookEvent(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{if(window.attachEvent){c.attachEvent("on"+b,a)}}}function os_eventKeyup(d){var a=os_getTarget(d);var b=os_map[a.id];if(b==null){return}if(os_keypressed_count==0){os_processKey(b,os_cur_keypressed,a)}var c=a.value;os_fetchResults(b,c,os_search_timeout)}function os_processKey(c,a,b){if(a==40&&!c.visible&&os_timer==null){c.query="";os_fetchResults(c,b.value,0)}if(os_use_datalist){return}if(a==40){if(c.visible){os_changeHighlight(c,c.selected,c.selected+1,true)}}else{if(a==38){if(c.visible){os_changeHighlight(c,c.selected,c.selected-1,true)}}else{if(a==27){document.getElementById(c.searchbox).value=c.original;c.query=c.original;os_hideResults(c)}else{if(c.query!=document.getElementById(c.searchbox).value){}}}}}function os_eventKeypress(d){var b=os_getTarget(d);var c=os_map[b.id];if(c==null){return}var a=os_cur_keypressed;os_keypressed_count++;os_processKey(c,a,b)}function os_eventKeydown(c){if(!c){c=window.event}var a=os_getTarget(c);var b=os_map[a.id];if(b==null){return}os_mouse_moved=false;os_cur_keypressed=(c.keyCode==undefined)?c.which:c.keyCode;os_keypressed_count=0}function os_eventOnsubmit(g){var d=os_getTarget(g);os_is_stopped=true;if(os_timer!=null&&os_timer.id!=null){clearTimeout(os_timer.id);os_timer=null}for(var c=0;c<os_autoload_inputs.length;c++){var f=os_map[os_autoload_inputs[c]];if(f!=null){var a=document.getElementById(f.searchform);if(a!=null&&a==d){f.query=document.getElementById(f.searchbox).value}os_hideResults(f)}}return true}function os_hideResults(a){if(os_use_datalist){document.getElementById(a.searchbox).setAttribute("list","")}else{var b=document.getElementById(a.container);if(b!=null){b.style.visibility="hidden"}}a.visible=false;a.selected=-1}function os_decodeValue(a){if(decodeURIComponent){return decodeURIComponent(a)}if(unescape){return unescape(a)}return null}function os_encodeQuery(a){if(encodeURIComponent){return encodeURIComponent(a)}if(escape){return escape(a)}return null}function os_updateResults(a,b,g,f){os_cache[f]=g;a.query=b;a.original=b;if(g==""){a.results=null;a.resultCount=0;os_hideResults(a)}else{try{var d=JSON.parse(g);if(d.length<2||d[1].length==0){a.results=null;a.resultCount=0;os_hideResults(a);return}if(os_use_datalist){os_setupDatalist(a,d[1])}else{os_setupDiv(a,d[1])}}catch(c){os_hideResults(a);os_cache[f]=null}}}function os_setupDatalist(f,d){var e=document.getElementById(f.searchbox);var h=document.getElementById(f.container);if(h==null){h=document.createElement("datalist");h.setAttribute("id",f.container);document.body.appendChild(h)}else{h.innerHTML=""}e.setAttribute("list",f.container);f.results=new Array();f.resultCount=d.length;f.visible=true;for(var b=0;b<d.length;b++){var g=os_decodeValue(d[b]);var a=document.createElement("option");a.value=g;f.results[b]=g;h.appendChild(a)}}function os_getNamespaces(c){var e="";var d=document.forms[c.searchform].elements;for(var b=0;b<d.length;b++){var a=d[b].name;if(typeof a!="undefined"&&a.length>2&&a[0]=="n"&&a[1]=="s"&&((d[b].type=="checkbox"&&d[b].checked)||(d[b].type=="hidden"&&d[b].value=="1"))){if(e!=""){e+="|"}e+=a.substring(2)}}if(e==""){e=wgSearchNamespaces.join("|")}return e}function os_updateIfRelevant(b,c,e,d){var a=document.getElementById(b.searchbox);if(a!=null&&a.value==c){os_updateResults(b,c,e,d)}b.query=c}function os_delayedFetch(){if(os_timer==null){return}var c=os_timer.r;var d=os_timer.query;os_timer=null;var g=wgMWSuggestTemplate.replace("{namespaces}",os_getNamespaces(c)).replace("{dbname}",wgDBname).replace("{searchTerms}",os_encodeQuery(d));var b=os_cache[g];if(b!=null&&b!=undefined){os_updateIfRelevant(c,d,b,g)}else{var a=sajax_init_object();if(a){try{a.open("GET",g,true);a.onreadystatechange=function(){if(a.readyState==4&&typeof os_updateIfRelevant=="function"){os_updateIfRelevant(c,d,a.responseText,g)}};a.send(null)}catch(f){if(window.location.hostname=="localhost"){alert("Your browser blocks XMLHttpRequest to 'localhost', try using a real hostname for development/testing.")}throw f}}}}function os_fetchResults(a,c,b){if(c==""){a.query="";os_hideResults(a);return}else{if(c==a.query){return}}os_is_stopped=false;if(os_timer!=null&&os_timer.id!=null){clearTimeout(os_timer.id)}if(b!=0){os_timer=new os_Timer(setTimeout(os_delayedFetch,b),a,c)}else{os_timer=new os_Timer(null,a,c);os_delayedFetch()}}function os_getTarget(a){if(!a){a=window.event}if(a.target){return a.target}else{if(a.srcElement){return a.srcElement}else{return null}}}function os_isNumber(a){if(a==""||isNaN(a)){return false}for(var b=0;b<a.length;b++){var d=a.charAt(b);if(!(d>="0"&&d<="9")){return false}}return true}function os_enableSuggestionsOn(a,b){os_initHandlers(a,b,document.getElementById(a))}function os_disableSuggestionsOn(a){r=os_map[a];if(r!=null){os_timer=null;os_hideResults(r);document.getElementById(a).setAttribute("autocomplete","on");os_map[a]=null}var b=os_autoload_inputs.indexOf(a);if(b>=0){os_autoload_inputs[b]=os_autoload_forms[b]=""}}function os_eventBlur(c){var a=os_getTarget(c);var b=os_map[a.id];if(b==null){return}if(!os_mouse_pressed){os_hideResults(b);b.stayHidden=true;if(os_timer!=null&&os_timer.id!=null){clearTimeout(os_timer.id)}os_timer=null}}function os_eventFocus(c){var a=os_getTarget(c);var b=os_map[a.id];if(b==null){return}b.stayHidden=false}function os_setupDiv(d,b){var e=document.getElementById(d.container);if(e==null){e=os_createContainer(d)}e.innerHTML=os_createResultTable(d,b);var a=document.getElementById(d.resultTable);d.containerTotal=a.offsetHeight;d.containerRow=a.offsetHeight/d.resultCount;os_fitContainer(d);os_trimResultText(d);os_showResults(d)}function os_createResultTable(e,b){var g=document.getElementById(e.container);var d=g.offsetWidth-os_operaWidthFix(g.offsetWidth);var a='<table class="os-suggest-results" id="'+e.resultTable+'" style="width: '+d+'px;">';e.results=new Array();e.resultCount=b.length;for(i=0;i<b.length;i++){var f=os_decodeValue(b[i]);e.results[i]=f;a+='<tr><td class="os-suggest-result" id="'+e.resultTable+i+'"><span id="'+e.resultText+i+'">'+f+"</span></td></tr>"}a+="</table>";return a}function os_showResults(a){if(os_is_stopped){return}if(a.stayHidden){return}os_fitContainer(a);var b=document.getElementById(a.container);a.selected=-1;if(b!=null){b.scrollTop=0;b.style.visibility="visible";a.visible=true}}function os_operaWidthFix(a){if(typeof document.body.style.overflowX!="string"){return 30}return 0}function f_clientWidth(){return f_filterResults(window.innerWidth?window.innerWidth:0,document.documentElement?document.documentElement.clientWidth:0,document.body?document.body.clientWidth:0)}function f_clientHeight(){return f_filterResults(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0)}function f_scrollLeft(){return f_filterResults(window.pageXOffset?window.pageXOffset:0,document.documentElement?document.documentElement.scrollLeft:0,document.body?document.body.scrollLeft:0)}function f_scrollTop(){return f_filterResults(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)}function f_filterResults(d,b,a){var c=d?d:0;if(b&&(!c||(c>b))){c=b}return a&&(!c||(c>a))?a:c}function os_availableHeight(b){var c=document.getElementById(b.container).style.top;var a=c.lastIndexOf("px");if(a>0){c=c.substring(0,a)}return f_clientHeight()-(c-f_scrollTop())}function os_getElementPosition(d){var a=document.getElementById(d);var c=0;var b=0;while(a){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}if(navigator.userAgent.indexOf("Mac")!=-1&&typeof document.body.leftMargin!="undefined"){c+=document.body.leftMargin;b+=document.body.topMargin}return{left:c,top:b}}function os_createContainer(b){var g=document.createElement("div");var a=document.getElementById(b.searchbox);var f=os_getElementPosition(b.searchbox);var e=f.left;var d=f.top+a.offsetHeight;g.className="os-suggest";g.setAttribute("id",b.container);document.body.appendChild(g);g=document.getElementById(b.container);g.style.top=d+"px";g.style.left=e+"px";g.style.width=a.offsetWidth+"px";g.onmouseover=function(c){os_eventMouseover(b.searchbox,c)};g.onmousemove=function(c){os_eventMousemove(b.searchbox,c)};g.onmousedown=function(c){return os_eventMousedown(b.searchbox,c)};g.onmouseup=function(c){os_eventMouseup(b.searchbox,c)};return g}function os_fitContainer(b){var e=document.getElementById(b.container);var a=os_availableHeight(b)-20;var d=b.containerRow;a=parseInt(a/d)*d;if(a<(2*d)&&b.resultCount>1){a=2*d}if((a/d)>os_max_lines_per_suggest){a=d*os_max_lines_per_suggest}if(a<b.containerTotal){e.style.height=a+"px";b.containerCount=parseInt(Math.round(a/d))}else{e.style.height=b.containerTotal+"px";b.containerCount=b.resultCount}}function os_trimResultText(a){var d=0;for(var k=0;k<a.resultCount;k++){var p=document.getElementById(a.resultText+k);if(p.offsetWidth>d){d=p.offsetWidth}}var q=document.getElementById(a.container).offsetWidth;var m=0;if(a.containerCount<a.resultCount){m=20}else{m=os_operaWidthFix(q)}if(m<4){m=4}d+=m;var o=document.getElementById(a.searchbox).offsetWidth;var c=d/o;if(c>os_container_max_width){c=os_container_max_width}else{if(c<1){c=1}}var b=Math.round(o*c);if(q!=b){q=b;if(os_animation_timer!=null){clearInterval(os_animation_timer.id)}os_animation_timer=new os_AnimationTimer(a,q);os_animation_timer.id=setInterval("os_animateChangeWidth()",os_animation_delay);q-=m}if(q<10){return}for(var k=0;k<a.resultCount;k++){var p=document.getElementById(a.resultText+k);var g=1;var f=p.offsetWidth+1;var h=0;var n=false;while(p.offsetWidth>q&&(p.offsetWidth<f||h<2)){n=true;f=p.offsetWidth;var j=p.innerHTML;p.innerHTML=j.substring(0,j.length-g)+"...";h++;g=4}if(n){document.getElementById(a.resultTable+k).setAttribute("title",a.results[k])}}}function os_animateChangeWidth(){var f=os_animation_timer.r;var j=document.getElementById(f.container);var e=j.offsetWidth;var d=document.getElementById(f.searchbox).offsetWidth;var b=os_getElementPosition(f.searchbox).left;var h=os_animation_timer.inc;var g=os_animation_timer.target;var a=e+h;if((h>0&&a>=g)||(h<=0&&a<=g)){j.style.width=g+"px";clearInterval(os_animation_timer.id);os_animation_timer=null}else{j.style.width=a+"px";if(document.documentElement.dir=="rtl"){j.style.left=(b+d+(g-a)-os_animation_timer.target-1)+"px"}}}function os_changeHighlight(a,j,e,l){if(e>=a.resultCount){e=a.resultCount-1}if(e<-1){e=-1}a.selected=e;if(j==e){return}if(j>=0){var f=document.getElementById(a.resultTable+j);if(f!=null){f.className="os-suggest-result"}}var d;if(e>=0){var k=document.getElementById(a.resultTable+e);if(k!=null){k.className=os_HighlightClass()}d=a.results[e]}else{d=a.original}if(a.containerCount<a.resultCount){var h=document.getElementById(a.container);var b=h.scrollTop/a.containerRow;var g=b+a.containerCount;if(e<b){h.scrollTop=e*a.containerRow}else{if(e>=g){h.scrollTop=(e-a.containerCount+1)*a.containerRow}}}if(l){os_updateSearchQuery(a,d)}}function os_HighlightClass(){var b=navigator.userAgent.match(/AppleWebKit\/(\d+)/);if(b){var a=parseInt(b[1]);if(a<523){return"os-suggest-result-hl-webkit"}}return"os-suggest-result-hl"}function os_updateSearchQuery(a,b){document.getElementById(a.searchbox).value=b;a.query=b}function os_eventMouseover(f,d){var b=os_getTarget(d);var c=os_map[f];if(c==null||!os_mouse_moved){return}var a=os_getNumberSuffix(b.id);if(a>=0){os_changeHighlight(c,c.selected,a,false)}}function os_getNumberSuffix(b){var a=b.substring(b.length-2);if(!(a.charAt(0)>="0"&&a.charAt(0)<="9")){a=a.substring(1)}if(os_isNumber(a)){return parseInt(a)}else{return -1}}function os_eventMousemove(b,a){os_mouse_moved=true}function os_eventMousedown(f,d){var b=os_getTarget(d);var c=os_map[f];if(c==null){return}var a=os_getNumberSuffix(b.id);os_mouse_pressed=true;if(a>=0){os_mouse_num=a}document.getElementById(c.searchbox).focus();return false}function os_eventMouseup(f,d){var b=os_getTarget(d);var c=os_map[f];if(c==null){return}var a=os_getNumberSuffix(b.id);if(a>=0&&os_mouse_num==a){os_updateSearchQuery(c,c.results[a]);os_hideResults(c);document.getElementById(c.searchform).submit()}os_mouse_pressed=false;document.getElementById(c.searchbox).focus()}function os_createToggle(d,b){var a=document.createElement("span");a.className=b;a.setAttribute("id",d.toggle);var c=document.createElement("a");c.setAttribute("href","javascript:void(0);");c.onclick=function(){os_toggle(d.searchbox,d.searchform)};var e=document.createTextNode(wgMWSuggestMessages[0]);c.appendChild(e);a.appendChild(c);return a}function os_toggle(a,b){r=os_map[a];var d="";if(r==null){os_enableSuggestionsOn(a,b);r=os_map[a];d=wgMWSuggestMessages[0]}else{os_disableSuggestionsOn(a,b);d=wgMWSuggestMessages[1]}var c=document.getElementById(r.toggle).firstChild;c.replaceChild(document.createTextNode(d),c.firstChild)}hookEvent("load",os_MWSuggestInit);var sajax_debug_mode=false;var sajax_request_type="GET";function sajax_debug(f){if(!sajax_debug_mode){return false}var d=document.getElementById("sajax_debug");if(!d){d=document.createElement("p");d.className="sajax_debug";d.id="sajax_debug";var c=document.getElementsByTagName("body")[0];if(c.firstChild){c.insertBefore(d,c.firstChild)}else{c.appendChild(d)}}var a=document.createElement("div");a.appendChild(document.createTextNode(f));d.appendChild(a);return true}function sajax_init_object(){sajax_debug("sajax_init_object() called..");var a;try{a=new XMLHttpRequest()}catch(c){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=null}}}if(!a){sajax_debug("Could not create connection object.")}return a}function sajax_do_call(k,h,g){var c,j,a;var b;var d;b=wgServer+((wgScript==null)?(wgScriptPath+"/index.php"):wgScript)+"?action=ajax";if(sajax_request_type=="GET"){if(b.indexOf("?")==-1){b=b+"?rs="+encodeURIComponent(k)}else{b=b+"&rs="+encodeURIComponent(k)}for(c=0;c<h.length;c++){b=b+"&rsargs[]="+encodeURIComponent(h[c])}d=null}else{d="rs="+encodeURIComponent(k);for(c=0;c<h.length;c++){d=d+"&rsargs[]="+encodeURIComponent(h[c])}}j=sajax_init_object();if(!j){alert("AJAX not supported");return false}try{j.open(sajax_request_type,b,true)}catch(f){if(window.location.hostname=="localhost"){alert("Your browser blocks XMLHttpRequest to 'localhost', try using a real hostname for development/testing.")}throw f}if(sajax_request_type=="POST"){j.setRequestHeader("Method","POST "+b+" HTTP/1.1");j.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}j.setRequestHeader("Pragma","cache=yes");j.setRequestHeader("Cache-Control","no-transform");j.onreadystatechange=function(){if(j.readyState!=4){return}sajax_debug("received ("+j.status+" "+j.statusText+") "+j.responseText);if(typeof(g)=="function"){g(j)}else{if(typeof(g)=="object"){if(g.tagName=="INPUT"){if(j.status==200){g.value=j.responseText}}else{if(j.status==200){g.innerHTML=j.responseText}else{g.innerHTML="<div class='error'>Error: "+j.status+" "+j.statusText+" ("+j.responseText+")</div>"}}}else{alert("bad target for sajax_do_call: not a function or object: "+g)}}return};sajax_debug(k+" uri = "+b+" / post = "+d);j.send(d);sajax_debug(k+" waiting..");delete j;return true}function wfSupportsAjax(){var b=sajax_init_object();var a=b?true:false;delete b;return a}var initTracker=function(){$("#WikiaHeader").click(function(d){var b="globalheader/";var c=$(d.target);if(c.hasParent(".WikiaLogo")){$.tracker.byStr(b+"wikia-logo")}else{if(c.is(".wikia-button")){$.tracker.byStr("action/startawiki")}else{if(c.hasParent("#GlobalNavigation")){b+="globalnav/";if(c.hasParent(".subnav")){if(c.next().is("ul")){$.tracker.byStr(b+"hub")}else{if(!c.parent().next().exists()){$.tracker.byStr(b+"more")}else{$.tracker.byStr(b+"wiki");$.tracker.byStr("spotlights/globalheader/"+c.closest(".SPOTLIGHT_GLOBALNAV").attr("id"))}}}else{$.tracker.byStr(b+"hub")}}else{if(c.hasParent("#AccountNavigation")){var e=c.attr("data-id");if(e){switch(e){case"login":case"register":case"logout":$.tracker.byStr(b+e);break;default:b+="usermenu/";$.tracker.byStr(b+e)}}else{if(c.hasParent("#fbconnect")){$.tracker.byStr(b+"facebookconnect")}else{if(c.hasParent("li")){$.tracker.byStr(b+"usermenu/username")}}}}}}}});$("#WikiHeader").click(function(d){var b="wikiheader/";var c=$(d.target);if(c.hasParent(".wordmark")){$.tracker.byStr(b+"wordmark")}else{if(c.hasParent("nav")){$.tracker.byStr(b+"wikinav/click")}else{if(c.attr("data-id")){$.tracker.byStr(b+c.attr("data-id"))}}}});$("#WikiaPageHeader").click(function(d){var b="pageheader/",c=$(d.target);if(c.is("img")){c=c.parent()}if(!c.is("a")){return}if(c.hasParent(".commentslikes")){$.tracker.byStr(b+"comments")}else{if(c.hasClass("createpage")){$.tracker.byStr("action/createapage/mainpage")}else{if(c.hasParent(".categories")){$.tracker.byStr(b+"readmore")}else{if(c.hasParent(".history")){b+="history/";if(c.hasParent(".view-all")){$.tracker.byStr(b+"more")}else{$.tracker.byStr(b+"click")}}else{if(c.hasParent(".wikia-menu-button")||c.hasClass("wikia-button")){b="action/";$.tracker.byStr(b+c.attr("data-id"))}}}}}});$(".UserProfileActionButton").click(function(d){var b="action/";var c=$(d.target);if(c.is("img")){c=c.parent()}var f=c.attr("data-id");if(f){switch(f){case"createblogpost":$.tracker.byStr("action/createblogpost/bloglistingheader");break;default:$.tracker.byStr(b+f)}}var e=c.parent().attr("data-id");if(e){switch(e){case"talk":$.tracker.byStr("profile/talk_tab");break;case"profile":$.tracker.byStr("profile/profile_tab");break;case"contribs":$.tracker.byStr("profile/contribs_tab");break;case"blog":$.tracker.byStr("profile/blog_tab");break}}});$("#WikiaArticleCategories").click(function(c){var b=$(c.target);if(b.is("a")){if(b.parent().is("#csAddCategorySwitch")){$.tracker.byStr("action/addcategory")}else{$.tracker.byStr("contentpage/categorylink")}}});$("#WikiaFooter").find(".tools").click(function(d){var b="toolbar/";var c=$(d.target);if(!c.is("a")){return}if(c.hasParent(".mytools")){b+="mytools/"}if(c.attr("id")){switch(c.attr("id")){case"ca-watch":$.tracker.byStr(b+"follow");break;case"ca-unwatch":$.tracker.byStr(b+"unfollow");break;case"control_share_feature":$.tracker.byStr(b+"share");break}}else{if(c.hasClass("tools-customize")){$.tracker.byStr(b+"customize")}else{if(c.attr("data-name")){$.tracker.byStr(b+c.attr("data-name"))}else{if(c.parent().hasClass("mytools")){$.tracker.byStr(b+"open")}else{if(c.data("tracking")){$.tracker.byStr(c.data("tracking"))}}}}}});$(".WikiaPagesOnWikiModule").click(function(c){var b=$(c.target);if(!b.is("a")){return}if(b.hasClass("wikia-button")){$.tracker.byStr("action/createapage/module")}});$(".WikiaActivityModule").click(function(d){var b="module/latestactivity/";var c=$(d.target);if(!c.is("a")){return}else{if(c.hasClass("more")){$.tracker.byStr(b+"more")}else{if(c.hasParent("em")){$.tracker.byStr(b+"article")}else{if(c.hasParent("details")){$.tracker.byStr(b+"username")}}}}});$(".AchievementsModule").click(function(d){var b="module/userachievements/";var c=$(d.target);if(!c.is("a")){return}if(c.hasClass("view-all")){$.tracker.byStr(b+"more")}else{if(c.hasClass("more")){$.tracker.byStr(b+"customize")}else{if(c.hasParent("p")){$.tracker.byStr(b+"rank")}}}});$(".FollowedPagesModule").click(function(f){var c="module/followedpages/";var e=$(f.target);if(!e.is("a")){return}if(e.hasClass("more")){$.tracker.byStr(c+"more")}else{if(e.hasParent("ul")){var d=e.closest("li");var b=parseInt(d.index())+1;$.tracker.byStr(c+b)}}});$(".HotSpotsModule").click(function(f){var c="module/hotspots/";var e=$(f.target);if(!e.is("a")){return}if(e.hasParent("ul")){var d=e.closest("li");var b=parseInt(d.index())+1;$.tracker.byStr(c+b)}});$(".CommunityCornerModule").click(function(d){var b="module/communitycorner/";var c=$(d.target);if(!c.is("a")){return}if(c.hasClass("more")){$.tracker.byStr(b+"edit")}else{$.tracker.byStr(b+"link")}});$(".WikiaLatestEarnedBadgesModule").click(function(d){var b="module/latestbadges/";var c=$(d.target);if(!c.is("a")){return}if(c.hasClass("more")){$.tracker.byStr(b+"more")}else{$.tracker.byStr(b+"username")}});$(".LatestPhotosModule").click(function(d){var b="module/latestphotos/";var c=$(d.target);if(c.is("img")){c=c.parent()}if(!c.is("a")){return}if(c.hasClass("more")){$.tracker.byStr(b+"more")}else{if(c.hasClass("previous")){$.tracker.byStr(b+"arrow")}else{if(c.hasClass("next")){$.tracker.byStr(b+"arrow")}else{if(c.hasClass("wikia-button")){$.tracker.byStr("action/addphoto/photosmodule")}else{if(c.parent().is("li")){$.tracker.byStr(b+"photo")}}}}}});$(".WikiaBlogListingBox").click(function(d){var b="module/latestblogposts/";var c=$(d.target);if(!c.is("a")){return}if(c.hasClass("wikia-button")){b="action/createblogpost/";if(c.hasParent("#WikiaArticle")){$.tracker.byStr(b+"bloglistingtag")}else{$.tracker.byStr(b+"blogmodule")}}else{if(c.hasParent("li")){if(c.parent().hasClass("commentslikes")){$.tracker.byStr(b+"comments")}else{if(c.hasParent("details")){$.tracker.byStr(b+"author")}else{$.tracker.byStr(b+"title")}}}}});$("#WikiaRandomWiki").trackClick("randomwiki");$(".CorporateFooter").click(function(e){var c="corporatefooter/";var d=$(e.target);if(d.is("span")){d=d.parent()}if(!d.is("a")){return}var b=d.attr("href").match(/[:\/]([^:\/]+)$/).pop().toLowerCase();$.tracker.byStr(c+b)});$("#WikiaArticle").click(function(e){var c="contentpage/";var d=$(e.target);if(d.is("img")||d.is("span")){d=d.parent()}if(!d.is("a")){return}if(d.closest(".cke_editor").length>0){return}if(d.closest(".category-gallery").length>0){return}if(d.hasClass("new")){$.tracker.byStr(c+"redlink")}else{if(d.parent().hasClass("editsection")){$.tracker.byStr("action/sectionedit")}else{if(d.hasParent("#toc")){$.tracker.byStr(c+"toclink")}else{if(d.parent().is("sup")){$.tracker.byStr(c+"reflink")}else{if(d.parent().hasClass("magnify")){$.tracker.byStr(c+"photodetails")}else{if(d.parent().hasClass("picture-attribution")){$.tracker.byStr(c+"photoattributon")}else{if(d.hasClass("image")){$.tracker.byStr(c+"lightbox")}else{if(d.hasParent(".wikiaPlaceholder")){c="action/";var b=d.parent().parent().attr("id");if(b&&b.indexOf("WikiaImagePlaceholder")>-1){$.tracker.byStr(c+"addphoto/placeholder")}else{if(d.hasParent("table.gallery")){$.tracker.byStr(c+"addvideo/gallery")}else{$.tracker.byStr(c+"addvideo/placeholder")}}}else{if(d.hasClass("wikia-photogallery-add")){$.tracker.byStr("action/addphoto/gallery")}else{if(d.hasClass("wikia-slideshow-addimage")){$.tracker.byStr("action/addphoto/slideshow")}else{$.tracker.byStr(c+"contentlink")}}}}}}}}}}});$(".RelatedPagesModule").click(function(d){var b="module/relatedpages/";var c=$(d.target);if(c.is("img")){c=c.parent()}if(!c.is("a")){return}if(c.hasClass("more")){$.tracker.byStr(b+"link")}else{$.tracker.byStr(b+"image")}});if(typeof FB!="undefined"&&typeof FB.Event!="undefined"){FB.Event.subscribe("edge.create",function(b){$.tracker.byStr("pageheader/like")});FB.Event.subscribe("comments.add",function(b){$.tracker.byStr("pageheader/post")})}if(wgCanonicalSpecialPageName=="Search"){$.tracker.byStr("search/searchResults/view")}if(window.wgIsEditPage&&(typeof RTE=="undefined")){$.tracker.byStr("mweditor/init");$("#wpSave").bind("click",function(b){$.tracker.byStr("mweditor/save")})}$(window).unload(function(b){if($.storage){$.storage.set("unloadstamp",(new Date()).getTime())}});var a=function(d,b){var c=$(d.target);if(c.is("a")||c.is("img")){$.tracker.byStr("spotlights/"+b+"/"+window.cityShort)}};$("#SPOTLIGHT_RAIL").bind("click",function(b){a(b,"rail")});$("#SPOTLIGHT_FOOTER").bind("click",function(b){a(b,"footer")})};$.fn.extend({getModalTopOffset:function(){var b=Math.max((($(window).height()-this.outerHeight())/2),20);var a=this.data("settings");if(a&&typeof a.topMaximum=="number"){b=Math.min(b,a.topMaximum)}return $(window).scrollTop()+b},makeModal:function(o){var g={showCloseButton:true,width:400,topOffset:0};if(o){$.extend(g,o)}var k=Math.round((new Date()).getTime()/1000);var d=g.id||($(this).attr("id")||k)+"Wrapper";if(skin=="oasis"){var c=$("<section>",{"class":"modalWrapper",id:d}).append($("<section>",{"class":"modalContent"}).append(this)).appendTo("body")}else{this.wrap('<div class="modalWrapper" id="'+d+'"></div>');var c=this.closest(".modalWrapper")}if(g.className){c.addClass(g.className)}if(g.zIndex){var n=parseInt(g.zIndex)}else{var n=2000000001+($("body").children(".blackout").length)*2}c.data("settings",g);if(skin=="oasis"){var e=c.find("h1:first");if(e.exists()){e.remove()}else{e=$("<h1>").html($(this).attr("title")||"")}e.prependTo(c);var a=c.find(".modal-tabs");if(a.exists()){a.insertBefore(c.find(".modalContent"))}var h=$("#WikiaMainContent").width();if(typeof o.width!="undefined"){h=o.width+30}c.css({left:"50%",top:$(window).scrollTop()+50+g.topOffset,width:h,zIndex:n+1}).css("margin-left",-c.outerWidth()/2);if(g.showCloseButton){c.prepend('<button class="close wikia-chiclet-button"><img src="'+stylepath+'/oasis/images/icon_close.png"></button>')}}else{c.prepend('<h1 class="modalTitle color1"><img src="'+wgBlankImgUrl+'" class="sprite close" />'+this.attr("title")+"</h1>").width(g.width);c.css({marginLeft:-c.outerWidth()/2,top:c.getModalTopOffset(),zIndex:n+1}).fadeIn("fast")}c.log("makeModal: #"+d);if($.hideAds){$.hideAds()}this.removeAttr("title");var f=(typeof g.persistent=="boolean")?g.persistent:false;var m=(typeof g.onClose=="function")?g.onClose:false;var l=(typeof g.closeOnBlackoutClick=="boolean")?g.closeOnBlackoutClick:true;c.find(".close").bind("click",function(){var q=$(this).closest(".modalWrapper");var p=q.data("settings");if(typeof p.onClose=="function"){if(p.onClose({click:1})==false){return}}if(f){q.hideModal()}else{q.closeModal()}});$(window).bind("keypress.modal"+d,function(p){if(p.keyCode==27){if(typeof g.onClose=="function"){if(g.onClose({keypress:1})==false){return}}if(f){c.hideModal()}else{c.closeModal()}return false}}).bind("resize.modal",function(){if(window.skin=="oasis"){return}c.css("top",c.getModalTopOffset());$(".blackout:last").height($(document).height())});var b=0.65;if(g.blackoutOpacity){b=g.blackoutOpacity}var j=$("<div>").addClass("blackout").attr("data-opacity",b);j.height($(document).height()).width($(document).width()).css({zIndex:n}).fadeTo("fast",b).bind("click",function(){if(!l){return}if(typeof g.onClose=="function"){if(g.onClose({click:1})==false){return}}if(f){c.hideModal()}else{c.closeModal()}});if(skin=="oasis"){j.appendTo("body")}else{j.appendTo("#positioned_elements")}c.data("blackout",j);if(typeof g.onCreate=="function"){g.onCreate(this,c)}if(window.loadAd){AdDriverDelayedLoader.load();window.loadAd=false}$(document.body).addClass("modalShown");return c},closeModal:function(){$(window).unbind(".modal"+this.attr("id"));this.animate({top:this.offset()["top"]+100,opacity:0},"fast",function(){$(this).remove()});var a=$(this).data("blackout");a.fadeOut("fast",function(){$(this).remove()});$.showAds();$(document.body).removeClass("modalShown")},hideModal:function(){var a=$(this).data("blackout");a.fadeOut("fast").addClass("blackoutHidden");this.animate({top:this.offset()["top"]+100,opacity:0},"fast",function(){$(this).css("display","none")});$.showAds();$(document.body).removeClass("modalShown")},showModal:function(){var d=this.closest(".modalWrapper");var c=2000000001+($("body").children(".blackout").length)*2;var b=$(this).data("blackout");var a=b.attr("data-opacity");if(!a){a=0.65}b.height($(document).height()).width($(document).width()).css({display:"block",opacity:a,zIndex:c}).removeClass("blackoutHidden");d.css({top:d.getModalTopOffset(),zIndex:c+1,opacity:1,display:"block"}).log("showModal: #"+this.attr("id"));$.hideAds();$(document.body).addClass("modalShown")},resizeModal:function(a){a=parseInt(a);var b=this.closest(".modalWrapper");b.width(a).css("marginLeft",-b.outerWidth()>>1).log("resizeModal: #"+this.attr("id")+" resized to "+a+"px")},isModalShown:function(){return $(document.body).hasClass("modalShown")},getModalWrapper:function(){return $(".modalWrapper")}});window.Wikia=window.Wikia||{};window.Wikia.getMultiTypePackage=function(j){var d={},h=j.styles,c=j.scripts,e=j.messages,f=j.templates,g=j.callback,a=j.ttl,b=false;if(typeof h==="string"){d.styles=h;b=true}if(typeof c==="string"){d.scripts=c;b=true}if(typeof e==="string"){d.messages=e;b=true}if(f instanceof Array){d.templates=(typeof f==="object")?JSON.stringify(f):f;b=true}if(b){d.cb=wgStyleVersion;if(typeof a==="string"){d.ttl=a}$.nirvana.getJson("AssetsManagerController","getMultiTypePackage",d,function(k){if(k.messages){wgMessages=$.extend(wgMessages,k.messages)}if(typeof g==="function"){g(k)}})}else{throw"No resources to load specified"}};window.Wikia.processScript=function(c){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.type="text/javascript";a.text=c;b.parentNode.insertBefore(a,b)};window.Wikia.processStyle=function(a){var b=document.createElement("style");b.type="text/css";if(b.styleSheet){b.styleSheet.cssText=a}else{b.appendChild(document.createTextNode(a))}document.getElementsByTagName("head")[0].appendChild(b)};var WikiaTracker_ABtests={};var WikiaLogger={level:0,groups:[],_enabled_cache:false};WikiaLogger.log=function(b,c,a){if(!this._enabled_cache){return false}if(typeof b=="undefined"||typeof c=="undefined"||typeof a=="undefined"){return false}if(c>this.level){return false}if(this.groups.indexOf(a)==-1){return false}this._log(b,a);return true};WikiaLogger._log=function(b,a){if(typeof console!="undefined"){console.log((typeof b!="object"?"%s: %s":"%s: %o"),a,b)}else{if(typeof opera!="undefined"){opera.postError(a+": "+b)}}};WikiaLogger.init=function(){if(typeof jQuery=="function"){this.level=parseInt($.getUrlVar("log_level")||$.cookies.get("log_level"))||this.level;this.groups=($.getUrlVar("log_group")||$.cookies.get("log_group")||"").replace(" ","").replace("|",",").split(",")}if(this.level>0&&this.groups.length>0){this._log("initialized at level "+this.level+" for "+this.groups.join(", "),"WikiaLogger.g");this._enabled_cache=true}};WikiaLogger.init();var WikiaTracker={ACTIONS:{ADD:"add",CLICK:"click",CLICK_LINK_IMAGE:"click-link-image",CLICK_LINK_TEXT:"click-link-text",IMPRESSION:"impression",PLAY_VIDEO:"play-video",REMOVE:"remove",PAGINATE:"paginate",SUBMIT:"submit",TAKE_SURVEY:"take-survey",VIEW:"view"},trackEvent:function(h){var g=h.tracking_method||"none",a=h.ga_category,c=h.ga_action,b=h.ga_label,f=h.ga_value;if(!a||!c||g==="none"||!WikiaTracker.ACTIONS_REVERSE[c]){$().log("Required parameters are missing or invalid");return}var d=[a,c],e={ga_category:a,ga_action:c};if(b){e.ga_label=b;d.push(b)}if(f){e.ga_value=f;d.push(f)}if(g=="internal"||g=="both"){$.extend(e,h.internal_params||{});$().log("internal tracked");$.internalTrack("trackingevent",e)}if(g=="ga"||g=="both"){$().log("ga tracked")}$().log(Array.prototype.join.call(d,"/"),"tracker [event]")}};WikiaTracker.ACTIONS_REVERSE=(function(){var a={},c=WikiaTracker.ACTIONS,b;for(b in c){a[c[b]]=b}return a})();WikiaTracker.debug=function(b,c,a){return true};WikiaTracker.track=function(c,b,a){return true};WikiaTracker._track=function(d,b,c,a){return true};WikiaTracker._simpleHash=function(c,a){var b,d=0;for(b=0;b<c.length;b++){d+=(c.charCodeAt(b)*(b+1))}return Math.abs(d)%a};WikiaTracker._inGroup=function(b,a){return false};WikiaTracker._userGroup=function(){return null};WikiaTracker.inGroup=function(a){return false};WikiaTracker.isTracked=function(){return this.inGroup("N")};WikiaTracker._abData=function(){var a=[];return a};WikiaTracker.AB=function(a){return true};var WikiaTrackerQueue={POLL_INTERVAL:500,POLL_LIMIT:20,pollIntervalId:false,pollCounter:0,trackFn:false,log:function(b,a){},proxy:function(b,a){return function(){return b.apply(a,arguments)}},init:function(){},pollBeaconId:function(){},moveQueue:function(){},pushCallback:function(a){}};jQuery.internalTrack=function(b,c,a,e){if(!b){return}$().log(b,"InternalTrack");if(c){$().log(c)}var d={c:wgCityId,x:wgDBname,a:wgArticleId,lc:wgContentLanguage,n:wgNamespaceNumber,u:window.trackID||window.wgTrackID||0,beacon:window.beacon_id||""};$.extend(d,c);$.ajax({cache:false,timeout:3000,dataType:"script",url:"http://a.wikia-beacon.com/__track/special/"+b,data:d,error:e,success:a})};var getTarget=function(b){var a=b.target||b.srcElement;if(a&&3==a.nodeType){a=a.parentNode}return a};jQuery.tracker=function(){var a=(window.skin=="oasis");var d=a?$("#WikiaArticle"):$("#bodyContent");if(wgIsArticle){$.tracker.byStr("view")}if(wgArticleId!=0&&wgAction=="edit"){$.tracker.byStr("editpage/view")}if(wgCanonicalSpecialPageName=="Recentchanges"){$.tracker.byStr("RecentChanges/view");d.click(function(j){var h=getTarget(j);if($.nodeName(h,"a")){if($.nodeName(h.parentNode,"fieldset")){switch(h.innerHTML){case"50":case"100":case"250":case"500":$.tracker.byStr("RecentChanges/show/"+h.innerHTML+"changes");break;case"1":case"3":case"7":case"14":case"30":$.tracker.byStr("RecentChanges/show/"+h.innerHTML+"days");break;default:var g=h.href.substr(h.href.indexOf(wgPageName)+wgPageName.length+1);g=g.substr(0,g.indexOf("=")+2);g=g.split("=");if(g.length==2){$.tracker.byStr("RecentChanges/show/"+(g[1]==1?"hide":"show")+g[0].substr(4))}break}}else{if($(h).hasClass("mw-userlink")){$.tracker.byStr("RecentChanges/click/username")}else{if($.nodeName(h.parentNode,"span")){if($(h.parentNode).hasClass("mw-usertoollinks")){var f=$(h.parentNode).find("a");if(f.length==3){if(f[0]==h){$.tracker.byStr("RecentChanges/click/usertalk")}else{if(f[1]==h){$.tracker.byStr("RecentChanges/click/usercontribs")}else{if(f[2]==h){$.tracker.byStr("RecentChanges/click/userblock")}}}}else{if(f.length==2){if(f[0]==h){$.tracker.byStr("RecentChanges/click/usertalk")}else{if(f[1]==h){$.tracker.byStr("RecentChanges/click/userblock")}}}}}else{if($(h.parentNode).hasClass("mw-rollback-link")){$.tracker.byStr("RecentChanges/click/rollback")}}}else{if(h.href.indexOf("action=history")>0){$.tracker.byStr("RecentChanges/click/history")}else{if(h.href.indexOf("diff=")>0){$.tracker.byStr("RecentChanges/click/diff")}else{if(h.href.indexOf("/delete")>0){$.tracker.byStr("RecentChanges/click/deletionlog")}else{$.tracker.byStr("RecentChanges/click/item")}}}}}}}else{if($.nodeName(h,"input")){$.tracker.byStr("RecentChanges/show/namespacego")}}})}$("#wpMinoredit, #wpWatchthis, #wpSave, #wpPreview, #wpDiff, #wpCancel, #wpEdithelp").click(function(f){$.tracker.byStr("editpage/"+$(this).attr("id").substring(2).toLowerCase())});$("#editsimilar_links").click(function(f){if(f.target.nodeName=="A"&&f.target.id!="editsimilar_preferences"){$.tracker.byStr("userengagement/editSimilar_click")}else{if(f.target.id=="editsimilar_preferences"){$.tracker.byStr("userengagement/editSimilar/editSimilarPrefs")}}});if(wgCanonicalSpecialPageName&&wgCanonicalSpecialPageName=="Userlogin"){$("#userloginlink").children("a:first").click(function(f){$.tracker.byStr("loginActions/goToSignup")})}if(wgCanonicalSpecialPageName&&wgCanonicalSpecialPageName=="Search"){var b=["title","text"];var c=(/\&offset\=(\d+)/).exec(document.location);var e=c?(parseInt(c[1],10)+1):1;$("#bodyContent").children(".mw-search-results").each(function(f){$(this).find("a").each(function(g){$(this).click(function(){$.tracker.byStr("search/searchResults/"+b[f]+"Match/"+(e+g))})});if(f==0){$.tracker.byStr("search/searchResults/view")}})}if($("#createpageform").length){$("#wpSave").click(function(f){$.tracker.byStr("createPage/save")});$("#wpPreview").click(function(f){$.tracker.byStr("createPage/preview")});$("#wpAdvancedEdit").click(function(f){$.tracker.byStr("createPage/advancedEdit")})}if(wgCanonicalSpecialPageName&&wgCanonicalSpecialPageName=="CreatePage"){$.tracker.byStr("createPage")}$("#toolbar").click(function(g){var f=$(g.target);if(!f.is("img")){return}var h=f.attr("id").split("-").pop();$.tracker.byStr("editpage/toolbar/"+h)});if(wgIsArticle&&wgArticleId>0){d.click(function(j){var g=function(l){var k=a?"contentpage/contentlink/":"articleActions/contentLink/";$.tracker.byStr(k+l)};var h=$(j.target);if(h.is("img")){h=h.parent()}if(!h.is("a")){return}if(!a){$.tracker.byStr("articleAction/contentLink-all")}if(h.closest(".category-gallery").length>0){return}var f=h.attr("href")||"";if(h.attr("class")==""&&h.attr("title")!=""&&!f.match(/\/index\.php\?title=.*\&action=edit/)){if(h.parents("div").is("div#catlinks")){g("ignore/categories");return}if(h.parents("div").is("div.smwfact")){g("ignore/smwfactbox");return}g("blueInternal");return}if(f=="#"||f.match(/^javascript:/)){g("ignore/javascript");return}if(f.match(/^#/)){g("ignore/anchor");return}if(f.match(/\/index\.php\?title=.*\&action=edit\&section=/)){g("ignore/editSection");return}if(f.match(/\/index\.php\?title=.*&action=edit&redlink=/)){g("red");return}if(f.match(/\/index\.php\?title=.*\&action=edit/)){g("ignore/edit");return}if(h.hasClass("image")){g("image");return}if(h.hasClass("internal")){g("imageIcon");return}if(h.hasClass("external")||h.hasClass("extiw")){g("blueExternal");return}if(!a){g("unknown/"+wgCityId+"-"+wgArticleId+"/"+encodeURIComponent(f))}})}if(typeof window.initTracker=="function"){window.initTracker()}};jQuery.tracker.byStr=function(a,b){$.tracker.track(a,b)};jQuery.tracker.byId=function(a){$.tracker.track(this.id)};jQuery.tracker.trackStr=function(b,a){WikiaTracker.track(b,"main.test");if(typeof a!="undefined"){}$().log("tracker: "+b)};jQuery.tracker.track=function(d,c){var a=d.split("/"),f=wgUserName==null?"anon":"user",b;c=c||false;switch(skin){case"answers":case"SkinAnswers":b="ansmco";break;case"oasis":b="wikia";break;default:b="monaco";break}if(window.wgOldAnswerSkin&&("view"==d)){return}var e=["1_"+b,f,d].join("/");WikiaTracker.track(e,"main.sampled");if(c){WikiaTracker.track(e,"main.unsampled")}if(window.wgPrivateTracker){WikiaTracker.track(wgDBname+"/"+e,"main.private");if(c){WikiaTracker.track(wgDBname+"/"+e,"main.unsampled")}}WikiaTracker.AB(e)};jQuery.tracker.trackEvent=function(e,f,g,a){var d=[],b=Array.prototype.join.call(arguments,"/");for(var c=0;c<arguments.length;c++){d.push(arguments[c])}WikiaTracker.track(null,"main.sampled",d);$().log(b,"tracker [event]")};var WET={byStr:function(a){$.tracker.byStr(a)},byId:$.tracker.byId};jQuery.fn.trackClick=function(a){this.click(function(b){jQuery.tracker.byStr(a)})};$(document).ready($.tracker);var HoverMenu=function(a){this.settings={mouseoverDelay:300,mouseoutDelay:350};this.mouseoverTimer=null;this.mouseoutTimer=null;this.mouseoverTimerRunning=false;this.selector=a;this.menu=$(this.selector);if(!this.menu.find("ul").exists()){$().log("skipping "+this.selector,"HoverMenu");return}this.menu.children("li").hover($.proxy(this.mouseover,this),$.proxy(this.mouseout,this));this.menu.children("li").children("a").focus($.proxy(function(b){this.hideNav();this.showNav($(b.currentTarget).closest("li"))},this));this.menu.find(".subnav a").focus($.proxy(function(b){this.hideNav();this.showNav($(b.currentTarget).closest(".subnav").closest("li"))},this));this.menu.children("li").first().children("a").focusout($.proxy(this.hideNav,this));this.menu.find(".subnav>li:last-child li:last-child a").focusout($.proxy(this.hideNav,this))};HoverMenu.prototype.mouseover=function(b){var a=this;this.menu.children("li").children("ul").not($(b.currentTarget).find("ul")).removeClass("show");clearTimeout(this.mouseoutTimer);if($(b.relatedTarget).closest(this.selector).length==0){this.mouseoverTimer=setTimeout(function(){a.showNav(b.currentTarget);a.mouseoverTimerRunning=false},this.settings.mouseoverDelay);this.mouseoverTimerRunning=true}else{if(this.mouseoverTimerRunning){clearTimeout(this.mouseoverTimer);this.mouseoverTimerRunning=false;this.mouseoverTimer=setTimeout(function(){a.showNav(b.currentTarget)},this.settings.mouseoverDelay);this.mouseoverTimerRunning=true}else{this.showNav(b.currentTarget)}}};HoverMenu.prototype.mouseout=function(b){var a=this;if($(b.relatedTarget).closest(this.selector).length==0){clearTimeout(this.mouseoverTimer);this.mouseoverTimerRunning=false;this.mouseoutTimer=setTimeout(function(){$(b.currentTarget).children("ul").removeClass("show");if(!$(".modalWrapper:visible").length){$.showAds()}},this.settings.mouseoutDelay)}else{this.hideNav();$.showAds()}};HoverMenu.prototype.showNav=function(b){var c=$(b).children("ul");window.HoverMenuGlobal.hideAll();if(c.exists()){c.addClass("show");$.hideAds();switch(this.selector){case"#GlobalNavigation":$.tracker.byStr("globalheader/globalnav/open");var a=$(b).index()+1;if(typeof window["fillIframe_SPOTLIGHT_GLOBALNAV_"+a]=="function"){window["fillIframe_SPOTLIGHT_GLOBALNAV_"+a]();window["fillIframe_SPOTLIGHT_GLOBALNAV_"+a]=null}else{if(typeof window["fillElem_SPOTLIGHT_GLOBALNAV_"+a]=="function"){window["fillElem_SPOTLIGHT_GLOBALNAV_"+a]();window["fillElem_SPOTLIGHT_GLOBALNAV_"+a]=null}}break;case"#AccountNavigation":$.tracker.byStr("globalheader/usermenu/open");break}}};HoverMenu.prototype.hideNav=function(){this.menu.find(".subnav").removeClass("show")};var HoverMenuGlobal={menus:[],hideAll:function(){var b=HoverMenuGlobal.menus;for(var a=0;a<b.length;a++){b[a].hideNav()}}};$(function(){HoverMenuGlobal.menus.push(new HoverMenu("#GlobalNavigation"));HoverMenuGlobal.menus.push(new HoverMenu("#AccountNavigation"));HoverMenuGlobal.menus.push(new HoverMenu("#WallNotifications"));$("div.skiplinkcontainer a").focus(function(a){$("body").data("accessible","true");$("#GlobalNavigation .subnav, #WikiHeader .subnav").show()})});var PageHeader={settings:{mouseoverDelay:300,mouseoutDelay:350},init:function(){if(typeof FB!="undefined"&&typeof FB.Event!="undefined"){FB.Event.subscribe("xfbml.render",function(){var a=$(".commentslikes").children(".likes");a.css("width","auto")})}if(typeof $.browser.msie!="undefined"&&typeof $.browser.version!="undefined"&&$.browser.version&&$.browser.version.substring(0,$.browser.version.indexOf("."))<9){GlobalTriggers.bind("fbinit",function(){$(".likes").each(function(){var b=$(this),a=b.html();b.html("").append(a);FB.XFBML.parse(b.get(0))});$().log("fixed like buttons","FB")})}}};var ProfileSyncButton={init:function(){ProfileSyncButton.attachEventListeners()},attachEventListeners:function(){$("a[data-id=syncprofile]").click(function(){window.location.href=$(this).attr("data-href");return false})}};$(function(){PageHeader.init();ProfileSyncButton.init()});var WikiaSearchApp={searchForm:false,searchField:false,ads:false,track:function(a){$.tracker.byStr("module/search/"+a)},trackInternal:function(a,b){$.internalTrack(a,b)},init:function(){WikiaSearchApp.searchForm=$("#WikiaSearch");WikiaSearchApp.searchFormBottom=$("#search");WikiaSearchApp.searchField=WikiaSearchApp.searchForm.children("input[placeholder]");WikiaSearchApp.ads=$("[id$='TOP_RIGHT_BOXAD']");if(!WikiaSearchApp.searchForm.hasClass("noautocomplete")){WikiaSearchApp.searchField.bind({suggestShow:WikiaSearchApp.hideAds,suggestHide:WikiaSearchApp.showAds});WikiaSearchApp.searchField.one("focus",WikiaSearchApp.initSuggest)}WikiaSearchApp.searchForm.submit(function(a){WikiaSearchApp.track("submit")});WikiaSearchApp.searchFormBottom.submit(function(a){WikiaSearchApp.track("submit")})},hideAds:function(){WikiaSearchApp.ads.each(function(){$(this).children().css("margin-left","-9999px")})},showAds:function(){WikiaSearchApp.ads.each(function(){$(this).children().css("margin-left","auto")})},initSuggest:function(){$.loadJQueryAutocomplete(function(){WikiaSearchApp.searchField.autocomplete({serviceUrl:wgServer+wgScript+"?action=ajax&rs=getLinkSuggest&format=json",onSelect:function(a,b){WikiaSearchApp.track("suggest");WikiaSearchApp.trackInternal("search_start_suggest",{sterm:encodeURIComponent(a.replace(/ /g,"_")),rver:0});window.location.href=wgArticlePath.replace(/\$1/,encodeURIComponent(a.replace(/ /g,"_")))},appendTo:"#WikiaSearch",deferRequestBy:250,maxHeight:1000,selectedClass:"selected",width:"270px",skipBadQueries:true})})}};$(function(){WikiaSearchApp.init()});var WikiaFooterApp={init:function(){var g=$("#WikiaFooter");var d=g.children(".toolbar");var c=$("#mobileSwitch");if(c.exists()){c.live("click",function(h){h.preventDefault();document.cookie="mobilefullsite=; expires=Thu, 01-Jan-70 00:00:01 GMT;";jQuery.tracker.byStr("link/mobilesite");location.reload()})}if(d.exists()){var e=$(window);var f=d.width();var b=typeof $.browser.msie!="undefined"&&typeof $.browser.version!="undefined"&&$.browser.version&&$.browser.version.substring(0,$.browser.version.indexOf("."))<8;var a=false;e.resolvePosition=function(){if($("body").hasClass("rte")){return}var h=e.scrollTop()+e.height();var j=0;if(g.offset()){j=g.offset().top+d.outerHeight()}if(h>j&&g.hasClass("float")){g.removeClass("float");e.centerBar();a=true}else{if(h<j&&!g.hasClass("float")){g.addClass("float");e.centerBar();a=true}}if(b&&a){a=false;setTimeout(function(){$("#WikiaPage").attr("class",$("#WikiaPage").attr("class"))},1)}};e.centerBar=function(){var h=e.width();if(h<f&&g.hasClass("float")){d.css("width",h+10);if(!d.hasClass("small")){d.addClass("small")}}else{if(d.hasClass("small")){d.css("width",f);d.removeClass("small")}}e.resolvePosition()};if(jQuery.support.positionFixed){e.resolvePosition();e.centerBar();e.scroll(e.resolvePosition);e.resize(e.centerBar)}WikiaFooterApp.toolbar=new ToolbarCustomize.Toolbar(g.find(".tools"))}}};(function(){window.ToolbarCustomize=window.ToolbarCustomize||{};var a=window.ToolbarCustomize;a.MenuGroup=$.createClass(Observable,{showTimer:false,hideTimer:false,showTimeout:300,hideTimeout:350,showing:false,visible:false,constructor:function(){a.MenuGroup.superclass.constructor.call(this);this.showTimer=Timer.create($.proxy(this.show,this),this.showTimeout);this.hideTimer=Timer.create($.proxy(this.hide,this),this.hideTimeout)},add:function(b){var c=$(b);c.unbind(".menugroup").bind("mouseenter.menugroup",$.proxy(this.delayedShow,this)).bind("mouseleave.menugroup",$.proxy(this.delayedHide,this)).children("a","img").unbind(".menugroup").bind("click.menugroup",$.proxy(this.showOnClick,this))},remove:function(b){$(b).unbind(".menugroup").children("a","img").unbind(".menugroup")},show:function(b){this.hideTimer.stop();this.showTimer.stop();if(!this.showing||this.visible==this.showing){return}if(this.visible){this.hide()}if(this.showing){this.visible=this.showing;this.showing=false;this.fire("menushow",this,this.visible,this.visible.children("ul"));this.visible.children("ul").show()}},delayedShow:function(b){this.showing=$(b.currentTarget);if(this.visible){this.show(b)}else{this.hideTimer.stop();this.showTimer.start()}},showOnClick:function(b){b.preventDefault();this.showing=$(b.currentTarget).parent();this.show(b)},hide:function(b){this.hideTimer.stop();this.showTimer.stop();if(this.visible){this.fire("menuhide",this,this.visible,this.visible.children("ul"));this.visible.children("ul").hide();this.visible=false}},delayedHide:function(b){this.hideTimer.stop();if(this.visible){this.hideTimer.start()}else{if(this.showing){this.showing=false;this.showTimer.start()}}}});a.Toolbar=$.createClass(Object,{el:false,more:false,menuGroup:false,constructor:function(b){a.Toolbar.superclass.constructor.call(this);this.el=b;this.menuGroup=new a.MenuGroup();this.menuGroup.bind("menushow",this.onShowMenu,this);this.initialize()},initialize:function(){this.el.find(".tools-customize").click($.proxy(this.openConfiguration,this));this.menuGroup.add(this.el.find("li.menu"));this.handleOverflowMenu()},openConfiguration:function(b){b.preventDefault();var c=new a.ConfigurationLoader(this);c.show()},buildOveflowItem:function(){return this.el.find(".overflow-menu").css("display","")},handleOverflowMenu:function(){var k=this.el.children("li");var j=k.filter(".overflow");var f=j.last().next();var c=0,g=0,e=this.el.width();k.each(function(n,m){c+=$(m).outerWidth(true)});j.each(function(n,m){g+=$(m).outerWidth(true)});if(c<e){return}var d=this.buildOveflowItem();if(f.exists()){f.before(d)}else{this.el.append(d)}var h=d.children("ul");var l=d.outerWidth(true)+5;var b=e-l-(c-g);j.each(function(n,m){b-=$(m).outerWidth(true);if(b<0){$(m).prependTo(h)}});this.menuGroup.add(d,$.proxy(this.onShowMenu,this))},onShowMenu:function(c,b,d){d.css("left",(b.offset().left-this.el.offset().left)+"px");d.css("right","auto")},load:function(b){this.el.children("li").not(".loadtime").remove();this.el.prepend($(b));this.initialize()}});a.ConfigurationLoader=$.createClass(Object,{constructor:function(b){this.toolbar=b},show:function(){$.loadLibrary("ToolbarCustomize",stylepath+"/oasis/js/ToolbarCustomize.js",typeof a.Configuration,$.proxy(function(){var b=new a.Configuration(this.toolbar);b.show()},this))}})})();$(function(){WikiaFooterApp.init()});var WikiaButtons={settings:{delay:350},init:function(a){if(typeof a=="object"){WikiaButtons.menuButtons=$(".wikia-menu-button",a)}else{WikiaButtons.menuButtons=$(".wikia-menu-button")}WikiaButtons.timer=null;WikiaButtons.add(WikiaButtons.menuButtons)},add:function(d,b){var c={click:WikiaButtons.click};var a=$.extend({},c,b||{});d.unbind(".wikiabutton").one("mouseover.wikiabutton",WikiaButtons.setup).bind("mouseenter.wikiabutton",WikiaButtons.mouseover).bind("mouseleave.wikiabutton",WikiaButtons.mouseout).bind("click.wikiabutton",a.click)},setup:function(){$(this).data("menu",$(this).find("ul"))},click:function(b){if(!$(this).attr("disabled")){if(b.target.tagName!=="A"){var a=$(this).outerWidth();if(a!==$(this).data("prevWidth")){$(this).data("prevWidth",a);var c=$(this).data("menu");a=a-(parseInt(c.css("padding-left"))+parseInt(c.css("padding-right"))+parseInt(c.css("border-left-width"))+parseInt(c.css("border-right-width")));c.css("min-width",a)}$(this).toggleClass("active")}}else{b.preventDefault();return false}},clickToggle:function(b){var a=$(">li>ul",$(this));if(a.length==0||$.contains(a[0],b.target)){return}$(this).toggleClass("active")},mouseover:function(){clearTimeout(WikiaButtons.timer)},mouseout:function(b){var a=$(b.target).closest(".wikia-menu-button").attr("data-delay");if((typeof a)!="string"){a=WikiaButtons.settings.delay}WikiaButtons.timer=setTimeout(function(){$(b.currentTarget).removeClass("active")},a)}};$(function(){WikiaButtons.init()});var WikiHeader={isDisplayed:false,settings:{mouseoverDelay:300,mouseoutDelay:350},init:function(){WikiHeader.nav=$("header.WikiHeader").children("nav");WikiHeader.navLI=WikiHeader.nav.children("ul").children("li");WikiHeader.subnav=WikiHeader.nav.find(".subnav");WikiHeader.mouseoverTimerRunning=false;WikiHeader.positionNav();WikiHeader.navLI.children("a").focus(function(){WikiHeader.hideNav();WikiHeader.showSubNav($(this).parent("li"))});if(!$().isTouchscreen()){WikiHeader.navLI.hover(WikiHeader.mouseover,WikiHeader.mouseout)}else{WikiHeader.navLI.click(WikiHeader.click)}var a=false;WikiHeader.subnav.find("a").bind("mousedown",function(){a=true}).bind("mouseup",function(){a=false}).focus(function(b){if(!a){WikiHeader.hideNav();WikiHeader.showSubNav($(b.currentTarget).closest(".subnav").parent("li"))}});WikiHeader.nav.children("ul").find("li:first-child a").focusout(WikiHeader.hideNav);WikiHeader.subnav.last().find("li:last-child a").focusout(WikiHeader.hideNav);$(document).mouseout(function(b){if(WikiHeader.isDisplayed){var c=b.relatedTarget||b.toElement;if(!c||c.nodeName=="HTML"){WikiHeader.hideNav()}}});if((window.wgIsWikiNavMessage)&&(wgAction=="edit")){$("#wpSave").hide()}},click:function(a){var b=$(this).children(".subnav");if(b.length&&!b.hasClass("opened")){a.preventDefault();WikiHeader.hideNav();WikiHeader.showSubNav(a.currentTarget);WikiHeader.subnav.removeClass("opened");b.addClass("opened")}},mouseover:function(b){var a=WikiHeader.subnav.not($(this).find(".subnav"));if($("body").data("accessible")){a.css("top","-9999px")}else{a.hide()}clearTimeout(WikiHeader.mouseoutTimer);if($(b.relatedTarget).closest("#WikiHeader nav li").length==0){WikiHeader.mouseoverTimer=setTimeout(function(){WikiHeader.showSubNav(b.currentTarget);WikiHeader.mouseoverTimerRunning=false},WikiHeader.settings.mouseoverDelay);WikiHeader.mouseoverTimerRunning=true}else{if(WikiHeader.mouseoverTimerRunning){clearTimeout(WikiHeader.mouseoverTimer);WikiHeader.mouseoverTimerRunning=false;WikiHeader.mouseoverTimer=setTimeout(function(){WikiHeader.showSubNav(b.currentTarget)},WikiHeader.settings.mouseoverDelay);WikiHeader.mouseoverTimerRunning=true}else{WikiHeader.showSubNav(this)}}},mouseout:function(a){if($(a.relatedTarget).closest("#WikiHeader nav li").length==0){clearTimeout(WikiHeader.mouseoverTimer);WikiHeader.mouseoverTimerRunning=false;WikiHeader.mouseoutTimer=setTimeout(WikiHeader.hideNav,WikiHeader.settings.mouseoutDelay)}else{WikiHeader.hideNav()}},showSubNav:function(a){var b=$(a).children("ul");if(b.exists()){WikiHeader.isDisplayed=true;b.css("top",WikiHeader.navtop).show();$.hideAds();$.tracker.byStr("wikiheader/wikinav/open")}},hideNav:function(){WikiHeader.isDisplayed=false;if($("body").data("accessible")){WikiHeader.subnav.css("top","-9999px")}else{WikiHeader.subnav.css("display","none")}$.showAds()},positionNav:function(){WikiHeader.navtop=WikiHeader.nav.height()}};$(function(){WikiHeader.init()});var WikiHeaderV2={lastSubnavClicked:-1,isDisplayed:false,activeL1:null,settings:{mouseoverDelay:200,mouseoutDelay:350},log:function(a){$().log(a,"WikiHeaderV2")},track:function(a){$.tracker.byStr("wikiheader/wikinav/"+a)},init:function(b){WikiHeaderV2.nav=$("header.WikiHeaderRestyle").children("nav");WikiHeaderV2.navLI=WikiHeaderV2.nav.children("ul").children("li");WikiHeaderV2.subnav2=WikiHeaderV2.nav.find(".subnav-2");WikiHeaderV2.subnav2LI=WikiHeaderV2.subnav2.children("li");WikiHeaderV2.subnav3=WikiHeaderV2.nav.find(".subnav-3");WikiHeaderV2.positionNav();WikiHeaderV2.navLI.click(WikiHeaderV2.mouseclickL1).children("a").focus(function(){WikiHeaderV2.showSubNavL2($(this).parent("li"))});WikiHeaderV2.subnav2LI.click(WikiHeaderV2.mouseclickL2).children("a").focus(function(){WikiHeaderV2.hideNavL3();WikiHeaderV2.showSubNavL3($(this).parent("li"))});if(!$().isTouchscreen()){WikiHeaderV2.navLI.hover(WikiHeaderV2.mouseoverL1,WikiHeaderV2.mouseoutL1);WikiHeaderV2.subnav2LI.hover(WikiHeaderV2.mouseoverL2,WikiHeaderV2.mouseoutL2)}var c=false;WikiHeaderV2.subnav3.find("a").bind("mousedown",function(){c=true}).bind("mouseup",function(){c=false}).focus(function(d){if(!c){WikiHeaderV2.hideNavL3();WikiHeaderV2.showSubNavL3($(d.currentTarget).closest(".subnav").parent("li"))}});WikiHeaderV2.subnav3.find("li:first-child a").focusout(WikiHeaderV2.hideNavL3);WikiHeaderV2.subnav3.last().find("li:last-child a").focusout(WikiHeaderV2.hideNavL3);$(document).mouseout(function(d){if(WikiHeaderV2.isDisplayed){var f=d.relatedTarget||d.toElement;if(!f||f.nodeName=="HTML"){WikiHeaderV2.hideNavL3()}}});if(!b){var a=0;WikiHeaderV2.subnav2.each(function(e){var f=$(this),d=f.children("li").reverse();if(e>0){f.css("visibility","hidden").show()}d.each(function(){var g=$(this),h=g.position();if(h.top===0){return false}else{g.remove();a++}});if(e>0){f.css("visibility","visible").hide()}});if(a>0){WikiHeaderV2.log("items removed: "+a)}}},mouseclickL1:function(d){if(!$(this).hasClass("marked")){d.preventDefault();WikiHeaderV2.subnav2LI.removeClass("marked2");WikiHeaderV2.navLI.removeClass("marked");WikiHeaderV2.hideNavL3();$(this).addClass("marked");var a=WikiHeaderV2.subnav2.not();if($("body").data("accessible")){a.css("top","-9999px")}else{a.hide()}WikiHeaderV2.activeL1=this;WikiHeaderV2.showSubNavL2(this)}var c=$(d.target);if(c.is("a")){var b=c.attr("data-canonical");if(typeof b!="undefined"){WikiHeaderV2.track("lvl2/"+b);switch(b){case"chat":$.openPopup(wgArticlePath.replace("$1","Special:Chat"),"wikiachat","ChatRail",600,600);d.preventDefault();break}}else{if(c.hasClass("subnav-2a")){WikiHeaderV2.track("lvl2/click")}else{if(c.hasClass("subnav-3a")){WikiHeaderV2.track("lvl3/click")}else{WikiHeaderV2.track("lvl1/click")}}}}},mouseoverL1:function(b){var a=this;if(WikiHeaderV2.activeL1===a){return}WikiHeader.mouseoverTimer=setTimeout(function(){WikiHeaderV2.navLI.removeClass("marked");WikiHeaderV2.hideNavL3();$(a).addClass("marked");b.preventDefault();var c=WikiHeaderV2.subnav2.not();if($("body").data("accessible")){c.css("top","-9999px")}else{c.hide()}WikiHeaderV2.activeL1=a;WikiHeaderV2.showSubNavL2(a)},WikiHeaderV2.settings.mouseoverDelay)},mouseoutL1:function(a){clearTimeout(WikiHeader.mouseoverTimer)},mouseclickL2:function(b){var a=WikiHeaderV2.subnav3.not($(this).find(".subnav"));if($(this).find(".subnav").exists()&&!$(this).hasClass("marked2")){WikiHeaderV2.hideNavL3();b.preventDefault();$(this).addClass("marked2");if($("body").data("accessible")){a.css("top","-9999px")}else{a.hide()}WikiHeaderV2.showSubNavL3(b.currentTarget)}},mouseoverL2:function(){var a=this;clearTimeout(WikiHeader.mouseoutTimer);WikiHeader.mouseoverTimer=setTimeout(function(){var b=WikiHeaderV2.subnav3.not($(a).find(".subnav"));if($("body").data("accessible")){b.css("top","-9999px")}else{b.hide()}$(a).siblings().removeClass("marked2");WikiHeaderV2.showSubNavL3(a)},WikiHeaderV2.settings.mouseoverDelay)},mouseoutL2:function(){clearTimeout(WikiHeader.mouseoverTimer);WikiHeader.mouseoutTimer=setTimeout(function(){WikiHeaderV2.hideNavL3()},WikiHeaderV2.settings.mouseoutDelay)},showSubNavL2:function(a){var b=$(a).children("ul");if(b.exists()){b.show();WikiHeaderV2.track("lvl2/open")}},showSubNavL3:function(a){var b=$(a).children("ul");if(b.exists()){$(a).addClass("marked2");WikiHeaderV2.isDisplayed=true;b.css("top",WikiHeaderV2.navtop).show();$.hideAds();WikiHeaderV2.track("lvl3/open")}},hideNavL3:function(){WikiHeaderV2.isDisplayed=false;WikiHeaderV2.lastSubnavClicked=-1;WikiHeaderV2.subnav2LI.removeClass("marked2");if($("body").data("accessible")){WikiHeaderV2.subnav3.css("top","-9999px")}else{WikiHeaderV2.subnav3.css("display","none")}$.showAds()},positionNav:function(){WikiHeaderV2.navtop=WikiHeaderV2.nav.height()-7},firstMenuValidator:function(){var c=0,b=true,a=$(".ArticlePreview #WikiHeader > nav > ul > li");a.reverse().each(function(){var d=$(this),e=d.position();if(e.top===0){return false}else{b=false;WikiHeaderV2.log("menu level #1 not valid")}});a.each(function(d,e){c+=$(e).width()});if(c>550){b=false;WikiHeaderV2.log("menu level #1 not valid")}return b},secondMenuValidator:function(){var d=0,b=true,c=$("#WikiaPage").width()-280,a=$(".ArticlePreview #WikiHeader .subnav-2");$.each(a,function(){var e=$(this);e.show();$.each(e.children("li"),function(){d+=$(this).width()});e.hide();if(d>c){b=false;WikiHeaderV2.log("menu level #2 not valid")}d=0});a.eq(0).show();return b}};$(function(){WikiHeaderV2.init();if(window.wgIsWikiNavMessage){$.getMessages("Oasis-navigation-v2");$(window).bind("EditPageRenderPreview",function(b,a){a.height=300;a.width=($("#WikiaPage").width()-271)+32});$(window).bind("EditPageAfterRenderPreview",function(d,b){b.removeClass("WikiaArticle");WikiHeaderV2.init(true);var c=WikiHeaderV2.firstMenuValidator(),e=WikiHeaderV2.secondMenuValidator(),a=!!b.find("nav > ul").attr("data-parse-errors"),f=[];if(a){f.push($.msg("oasis-navigation-v2-magic-word-validation"))}if(!c&&!e){f.push($.msg("oasis-navigation-v2-level12-validation"))}else{if(!c){f.push($.msg("oasis-navigation-v2-level1-validation"))}else{if(!e){f.push($.msg("oasis-navigation-v2-level2-validation"))}}}if(f.length>0){$("#publish").remove();alert(f.join("\n\n"))}b.find("nav > ul a").click(function(){if($(this).attr("href")=="#"){return false}})});$("#wpPreview").parent().removeClass("secondary");$("#EditPageRail .module_page_controls .module_content").append('<div class="preview-validator-desc">'+$.msg("oasis-navigation-v2-validation-caption")+"</div>");$("#EditPageMain").addClass("editpage-wikianavmode")}});var UploadPhotos={d:false,destfile:false,filepath:false,doptions:{persistent:false,width:600},status:false,libinit:false,init:function(){if(!($(".upphotoslogin").exists())){$(".upphotos").click(UploadPhotos.showDialog)}},showDialog:function(a){if(a){a.preventDefault()}$.get(wgScript,{action:"ajax",rs:"moduleProxy",moduleName:"UploadPhotos",actionName:"Index",outputType:"html",title:wgPageName,cb:wgCurRevisionId,uselang:wgUserLanguage},function(b){UploadPhotos.d=$(b).makeModal(UploadPhotos.doptions);UploadPhotos.destfile=UploadPhotos.d.find("input[name=wpDestFile]");UploadPhotos.filepath=UploadPhotos.d.find("input[name=wpUploadFile]");UploadPhotos.status=UploadPhotos.d.find("div.status");UploadPhotos.advanced=UploadPhotos.d.find(".advanced a");UploadPhotos.advancedChevron=UploadPhotos.d.find(".advanced .chevron");UploadPhotos.options=UploadPhotos.d.find(".options");UploadPhotos.uploadbutton=UploadPhotos.d.find("input[type=submit]");UploadPhotos.step1=UploadPhotos.d.find(".step-1");UploadPhotos.step2=UploadPhotos.d.find(".step-2");UploadPhotos.conflict=UploadPhotos.d.find(".conflict");UploadPhotos.ignore=UploadPhotos.d.find("input[name=wpIgnoreWarning]");UploadPhotos.override=UploadPhotos.d.find(".override");UploadPhotos.overrideinput=UploadPhotos.override.find("input");UploadPhotos.ajaxwait=UploadPhotos.d.find(".ajaxwait");UploadPhotos.dfcache={};UploadPhotos.wpLicense=$("#wpLicense");UploadPhotos.wpLicenseTarget=$("#mw-license-preview");UploadPhotos.filepath.change(UploadPhotos.filePathSet);UploadPhotos.destfile.blur(UploadPhotos.destFileSet);UploadPhotos.advanced.click(function(c){c.preventDefault();if(UploadPhotos.options.is(":visible")){UploadPhotos.advanced.text(UploadPhotos.advanced.data("more"));UploadPhotos.advancedChevron.removeClass("up")}else{UploadPhotos.advanced.text(UploadPhotos.advanced.data("fewer"));UploadPhotos.advancedChevron.addClass("up")}UploadPhotos.options.slideToggle("fast")});UploadPhotos.destfile.keyup(function(){if(UploadPhotos.dftimer){clearTimeout(UploadPhotos.dftimer)}UploadPhotos.dftimer=setTimeout(UploadPhotos.destFileSet,500)});UploadPhotos.wpLicense.change(function(){var d=$(this).val();if(d==""){$(this).attr("selectedIndex",0);UploadPhotos.wpLicenseTarget.html("");return}var e=UploadPhotos.destfile.val()||"File:Sample.jpg";var c=wgScriptPath+"/api"+wgScriptExtension+"?action=parse&text={{"+encodeURIComponent(d)+"}}&title="+encodeURIComponent(e.replace(/\./g,"%2E"))+"&prop=text&pst&format=json";$.get(c,function(f){UploadPhotos.wpLicenseTarget.html(f.parse.text["*"])},"json")});$.tracker.byStr("action/uploadphoto/dialog")});if(!UploadPhotos.libinit){$.getScript(wgExtensionsPath+"/wikia/ThemeDesigner/js/aim.js");UploadPhotos.libinit=true}},uploadCallback:{onComplete:function(b){b=$("<div/>").html(b).text();var a=JSON.parse(b);if(a){if(a.status==0){$.tracker.byStr("action/uploadphoto/upload");window.location=wgArticlePath.replace("$1","Special:NewFiles")}else{if(a.status==-2){UploadPhotos.step1.hide(400,function(){UploadPhotos.conflict.html(a.statusMessage);UploadPhotos.step2.show(400,function(){UploadPhotos.uploadbutton.removeAttr("disabled").show();UploadPhotos.ajaxwait.hide()})});UploadPhotos.ignore.attr("checked",true)}else{UploadPhotos.status.addClass("error").show(400).html(a.statusMessage);UploadPhotos.uploadbutton.removeAttr("disabled").show();UploadPhotos.ajaxwait.hide()}}}},onStart:function(){UploadPhotos.uploadbutton.attr("disabled","true").hide();UploadPhotos.ajaxwait.show();UploadPhotos.status.hide("fast",function(){$(this).removeClass("error")})}},filePathSet:function(){if(UploadPhotos.filepath.val()){var a=UploadPhotos.filepath.val().replace(/^.*\\/,"");UploadPhotos.destfile.val(a);UploadPhotos.destFileSet()}},destFileSet:function(){if(UploadPhotos.destfile.val()){var a=UploadPhotos.destfile.val();if(UploadPhotos.dfcache[a]){UploadPhotos.destFileInputSet(UploadPhotos.dfcache[a])}else{$.get(wgScript,{wpDestFile:UploadPhotos.destfile.val(),action:"ajax",rs:"moduleProxy",moduleName:"UploadPhotos",actionName:"ExistsWarning",outputType:"html",title:wgPageName,cb:wgCurRevisionId,uselang:wgUserLanguage},function(b){UploadPhotos.dfcache[a]=b;UploadPhotos.destFileInputSet(b)})}}},destFileInputSet:function(a){if(a&&$.trim(a)){UploadPhotos.override.fadeIn(400);UploadPhotos.status.removeClass("error").html(a).show(400)}else{UploadPhotos.override.fadeOut(400);UploadPhotos.overrideinput.attr("checked",false);UploadPhotos.status.removeClass("error").hide(400)}}};var LatestPhotos={browsing:false,transition_speed:500,enable_next:true,enable_previous:false,carousel:false,init:function(){LatestPhotos.carousel=$(".LatestPhotosModule").find(".carousel");LatestPhotos.attachListeners();$(".timeago").timeago()},lazyLoadImages:function(b){var a=this.carousel.find("img").filter("[data-src]");$().log("lazy loading rest of images","LatestPhotos");var c=0;a.each(function(){c++;if(c>b){return false}var d=$(this);d.attr("src",d.attr("data-src")).removeAttr("data-src")})},attachListeners:function(){LatestPhotos.attachBlindImages();$(".LatestPhotosModule .next").click(LatestPhotos.nextImage);$(".LatestPhotosModule .previous").click(LatestPhotos.previousImage);$(".LatestPhotosModule").one("mouseover",function(){LatestPhotos.lazyLoadImages("rest")});LatestPhotos.enableBrowsing();LatestPhotos.addLightboxTracking()},attachBlindImages:function(){if($(".carousel li").length==5){$(".carousel").append("<li class='blind'></li>")}else{if($(".carousel li").length==4){$(".carousel").append("<li class='blind'></li>");$(".carousel").append("<li class='blind'></li>")}}$(".carousel li").first().addClass("first-image");$(".carousel li").last().addClass("last-image")},previousImage:function(){var c=LatestPhotos.setCarouselWidth();LatestPhotos.enableBrowsing();if(LatestPhotos.browsing==false&&LatestPhotos.enable_previous==true){LatestPhotos.browsing=true;var a=$(".carousel li").length;for(var b=0;b<3;b++){$(".carousel").prepend($(".carousel li").eq(a-1))}$(".carousel-container div").css("left",-c+"px");$(".carousel-container div").animate({left:"0px"},LatestPhotos.transition_speed,function(){LatestPhotos.browsing=false})}return false},nextImage:function(){var a=LatestPhotos.setCarouselWidth();LatestPhotos.enableBrowsing();if(LatestPhotos.browsing==false&&LatestPhotos.enable_next==true){LatestPhotos.browsing=true;$(".carousel-container div").animate({left:"-"+a},LatestPhotos.transition_speed,function(){LatestPhotos.removeFirstPhotos();LatestPhotos.browsing=false})}return false},enableBrowsing:function(){var a=$(".carousel li").slice(0,3).each(function(b){if($(this).is(".last-image")){LatestPhotos.enable_next=false;return false}else{LatestPhotos.enable_next=true}if($(this).is(".first-image")){LatestPhotos.enable_previous=false;return false}else{LatestPhotos.enable_previous=true}})},addLightboxTracking:function(){this.carousel.bind("lightbox",function(c,d){$().log("lightbox shown","LatestPhotos");var b="module/latestphotos/";var a=$("#lightbox-caption-content").find("a");a.eq(0).trackClick(b+"lightboxusername");a.filter(".wikia-gallery-item-posted").trackClick(b+"lightboxlink");a.filter(".wikia-gallery-item-more").trackClick(b+"lightboxmore")})},removeFirstPhotos:function(){var a=$(".carousel li").slice(0,3);$(".carousel-container div").css("left","0px");$(".carousel li").slice(0,3).remove();$(".carousel").append(a)},setCarouselWidth:function(){var a=$(".carousel li").outerWidth()*3+6;$(".carousel").css("width",a*$(".carousel li").length+"px");return a}};$(function(){LatestPhotos.init();UploadPhotos.init()});var Interlang={init:function(){$(".WikiaArticleInterlang .more-link").click(Interlang.showAll)},showAll:function(){$(".WikiaArticleInterlang .more-link").hide();$(".WikiaArticleInterlang .more").show();return false}};$(function(){Interlang.init()});var WikiaNotificationsApp={purgeCurrentPage:function(){$.post(wgScript,{action:"purge",title:wgPageName})},init:function(){var a=$("#WikiaNotifications");a.find(".close-notification").click(function(c){var e=$(this).parent();var d=parseInt(e.attr("data-type"));switch(d){case 1:$.post(wgScript,{action:"ajax",rs:"wfDismissWikiaNewtalks"},WikiaNotificationsApp.purgeCurrentPage);e.parent().remove();break;case 2:$.post(wgScript,{action:"ajax",rs:"CommunityMessagesAjax",method:"dismissMessage"},WikiaNotificationsApp.purgeCurrentPage);e.parent().remove();break;case 5:var b=parseInt(e.attr("id").substr(4));var f=e.next();$.post(wgScript,{title:"Special:SiteWideMessages",action:"dismiss",mID:b},WikiaNotificationsApp.purgeCurrentPage);e.remove();f.css("display","block");break;case 10:$.post($(this).attr("data-url"),WikiaNotificationsApp.purgeCurrentPage);e.parent().remove();break;default:e.parent().remove();break}});a.children("li").each(function(){var b=$(this).children();$.tracker.byStr("notifications/"+WikiaNotificationsApp.getNotificationType(b)+"/view")});a.click(function(d){var c=$(d.target);if(c.is("a")){var e=c.closest("div");var b=c.hasClass("close-notification")?"dismiss":"link";$.tracker.byStr("notifications/"+WikiaNotificationsApp.getNotificationType(e)+"/"+b)}})},getNotificationType:function(b){var a=parseInt(b.attr("data-type"));switch(parseInt(a)){case 1:return"newmessage";case 2:return"communitymessages";case 3:return"achievement";case 4:return"editsimilar";case 5:return"sidewidemessages";case 10:return b.attr("data-name")}return false}};$(function(){WikiaNotificationsApp.init()});$(function(){if($("#WikiaRail").exists()&&$("#WikiaFooter").exists()&&$("#WikiaSpotlightsModule").exists()){if($("#WikiaFooter").offset().top-($("#WikiaRail").offset().top+$("#WikiaRail").height())>1200){$("#WikiaSpotlightsModule").css("display","block")}}});var FirefoxFindFix={scrollThreshold:30,lastScroll:0,init:function(){$(window).scroll(FirefoxFindFix.analyze).mousedown(FirefoxFindFix.cancelTimer)},analyze:function(){if(window.getSelection().toString()){var a=$(window).scrollTop();if(a>FirefoxFindFix.lastScroll+FirefoxFindFix.scrollThreshold){FirefoxFindFix.adjust()}FirefoxFindFix.lastScroll=a}},adjust:function(){$(window).scrollTop($(window).scrollTop()+FirefoxFindFix.scrollThreshold);FirefoxFindFix.anchorOffset=window.getSelection().anchorOffset;if(!FirefoxFindFix.timer){FirefoxFindFix.timer=setInterval(FirefoxFindFix.monitorHighlight,250)}},monitorHighlight:function(){if(window.getSelection().anchorOffset!=FirefoxFindFix.anchorOffset){if(FirefoxFindFix.timer){FirefoxFindFix.adjust()}}},cancelTimer:function(){if(FirefoxFindFix.timer){clearInterval(FirefoxFindFix.timer);FirefoxFindFix.timer=null}}};$(function(){if($.browser.mozilla&&$("#WikiaFooter .toolbar").exists()){FirefoxFindFix.init()}});if($().isTouchscreen()){$.getResources([$.getSassCommonURL("/skins/oasis/css/touchScreen.scss"),stylepath+"/oasis/js/touchScreen.js?"+wgStyleVersion])}$(function(){$(".tabs a").click(function(a){var b=$(this).parent().data("tab");if($('[data-tab-body="'+b+'"]').length>0){a.preventDefault();var c=$(this).closest("ul").find(".selected").removeClass("selected").data("tab");$(this).closest("li").addClass("selected");$('[data-tab-body="'+c+'"]').removeClass("selected");$('[data-tab-body="'+b+'"]').addClass("selected")}else{$().log('Tried to switch to tab but could not find data-tab-body: "'+b+'"')}})});var SharingToolbar={pageWidth:0,toolbarNode:false,contributeOffsetTop:0,track:function(a){$.tracker.byStr("/wikiheader/wikinav/"+a)},init:function(){this.toolbarNode=$("#SharingToolbar");if(!this.toolbarNode.exists()){return}this.pageWidth=$("#WikiaPage").width();this.contributeOffsetTop=$("#WikiHeader > .buttons > .contribute").offset().top-5;$(window).bind("scroll",$.proxy(this.onScroll,this));this.toolbarNode.find(".email-link").bind("click",this.onEmailClick);$(".WikiHeaderRestyle .share-button").bind("click",this.toolbarToggle)},onScroll:function(){if($(window).scrollTop()>=this.contributeOffsetTop){this.toolbarNode.addClass("fixed")}else{this.toolbarNode.removeClass("fixed")}},onEmailClick:function(e){var d=$(this),g=d.attr("data-lightboxShareEmailLabel"),c=d.attr("data-lightboxSend"),a=d.attr("data-lightboxShareEmailLabelAddress"),b=d.attr("data-lightboxcancel");var f=function(){SharingToolbar.showEmailModal(g,c,a,b)};if(UserLoginModal.show({callback:f})){return false}else{f()}},showEmailModal:function(e,d,a,b){var c=function(){UserLoginAjaxForm.prototype.reloadPage()};$.showCustomModal(e,"<label>"+a+'<br/><input type="text" id="lightbox-share-email-text" /></label>',{id:"shareEmailModal",width:690,showCloseButton:true,buttons:[{id:"ok",defaultButton:true,message:d,handler:function(){$.nirvana.sendRequest({controller:"SharingToolbarModule",method:"sendMail",format:"json",data:{pageName:wgPageName,addresses:$("#shareEmailModal #lightbox-share-email-text").val(),messageId:1},callback:function(g){var f=g.result;$.showModal(f["info-caption"],f["info-content"],{onClose:c});if(f.success){$("#shareEmailModal").closeModal()}}})}},{id:"cancel",message:"Cancel",handler:function(){$("#shareEmailModal").hideModal()}}],onClose:c})},checkWidth:function(){var b=0,a=this.toolbarNode.children();$.each(a,function(c,f){var d=$(f),e=Math.max(d.outerWidth(),d.children().outerWidth());b=Math.max(e,b)});this.toolbarNode.css("width",b)},toolbarToggle:function(c){var b=$(this),a=SharingToolbar;c.preventDefault();b.toggleClass("share-enabled");a.toolbarNode.toggle();if(b.hasClass("share-enabled")){a.track("share-activate");a.checkWidth()}else{a.track("share-deactivate")}}};$(function(){SharingToolbar.init()});var ContributeMenu={track:function(a){$.tracker.byStr("wikiheader/wikinav/contribute/"+a)},init:function(){var a=$("nav.contribute");a.bind("click",$.proxy(function(c){var b=$(c.target);if(b.is("a")){this.track(b.attr("data-id"))}else{if(b.is("nav")){this.track("open")}}},this))}};$(function(){ContributeMenu.init()});var WikiaForm=function(e){this.el=$(e);this.genericError=this.el.find(".general-errors");if(this.genericError.length==0){this.el.find("fieldset").prepend('<div class="input-group general-errors error"><div class="error-msg"></div></div>');this.genericError=this.el.find(".general-errors");this.genericError.hide();this.genericErrorMsg=this.genericError.find(".error-msg")}this.inputs={};var a=this.el.find("input, select, textarea");for(var d=0;d<a.length;d++){var b=$(a[d]),c=b.attr("name");if(c){this.inputs[c]=b}}this.inputGroups={};var f=this.el.find(".tooltip");if(f.exists()){$.loadWikiaTooltip(function(){f.each(function(){var g=$(this);g.wikiaTooltip(g.attr("data-tooltip"))})})}};WikiaForm.prototype.showGenericError=function(a){this.genericError.show();this.showErrorMsg(this.genericError,a)};WikiaForm.prototype.getInputGroup=function(c){var a=this.inputGroups[c];if(!a){a=this.inputs[c].closest(".input-group");if(!a.exists()){var b=this.el.find("input[name="+c+"]");if(b.exists()){a=b.closest(".input-group")}}if(a.exists()){this.inputGroups[c]=a}}return a};WikiaForm.prototype.showInputError=function(b,c){var a=this.getInputGroup(b);if(a){a.addClass("error");this.showErrorMsg(a,c)}};WikiaForm.prototype.clearInputError=function(b){var a=this.getInputGroup(b);a.removeClass("error");this.clearErrorMsg(a)};WikiaForm.prototype.showErrorMsg=function(a,c){var b=a.find(".error-msg");if(!b.length){b='<div class="error-msg"></div>';a.append(b);b=a.find(".error-msg")}b.text(c)};WikiaForm.prototype.clearErrorMsg=function(a){a.find(".error-msg").remove()};